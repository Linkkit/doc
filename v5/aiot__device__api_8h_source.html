<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Link Kit C-SDK: device-core/aiot_device_api.h 源文件</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Link Kit C-SDK
   &#160;<span id="projectnumber">5.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'搜索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>首页</span></a></li>
      <li><a href="annotated.html"><span>类</span></a></li>
      <li class="current"><a href="files.html"><span>文件</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="搜索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>文件列表</span></a></li>
      <li><a href="globals.html"><span>文件成员</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_a5c085e7ac88bd273106c2d9d4685a6c.html">device-core</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">aiot_device_api.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="aiot__device__api_8h.html">浏览该文件的文档.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#ifndef _AIOT_DEVICE_CLIENT_API_H_</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#define _AIOT_DEVICE_CLIENT_API_H_</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#if defined(__cplusplus)</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;stdint.h&gt;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="aiot__message__api_8h.html">aiot_message_api.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="aiot__linkconfig__api_8h.html">aiot_linkconfig_api.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="aiot__state__api_8h.html">aiot_state_api.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="aiot__device__api_8h.html#a9acb42cd541f0f61bc20f742247d2fdc">   31</a></span>&#160;<span class="keyword">typedef</span> void (*<a class="code" href="aiot__device__api_8h.html#a9acb42cd541f0f61bc20f742247d2fdc">aiot_device_msg_callback_t</a>)(<span class="keywordtype">void</span> *device, <span class="keyword">const</span> <a class="code" href="structaiot__msg__t.html">aiot_msg_t</a> *message, <span class="keywordtype">void</span> *userdata);</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="aiot__device__api_8h.html#a050e9d39067c122d95a6849a8e03233b">   36</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> {</div><div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="aiot__device__api_8h.html#a050e9d39067c122d95a6849a8e03233ba313fdd653bb6461efcf899b5cd806007">   40</a></span>&#160;    <a class="code" href="aiot__device__api_8h.html#a050e9d39067c122d95a6849a8e03233ba313fdd653bb6461efcf899b5cd806007">AIOT_DEVICE_STATUS_CONNECT</a>,</div><div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="aiot__device__api_8h.html#a050e9d39067c122d95a6849a8e03233ba38f91e9c44681c815a3fc51a4b274ba1">   44</a></span>&#160;    <a class="code" href="aiot__device__api_8h.html#a050e9d39067c122d95a6849a8e03233ba38f91e9c44681c815a3fc51a4b274ba1">AIOT_DEVICE_STATUS_RECONNECT</a>,</div><div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="aiot__device__api_8h.html#a050e9d39067c122d95a6849a8e03233ba1389ca3c94fb778bbe90fa1d071d4a60">   48</a></span>&#160;    <a class="code" href="aiot__device__api_8h.html#a050e9d39067c122d95a6849a8e03233ba1389ca3c94fb778bbe90fa1d071d4a60">AIOT_DEVICE_STATUS_DISCONNECT</a></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;} <a class="code" href="aiot__device__api_8h.html#a050e9d39067c122d95a6849a8e03233b">aiot_device_status_type_t</a>;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="structaiot__device__status__t.html">   54</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="structaiot__device__status__t.html#a4afa92af220276239fdaea035076c06d">   59</a></span>&#160;    aiot_device_status_type_t <a class="code" href="structaiot__device__status__t.html#a4afa92af220276239fdaea035076c06d">type</a>;</div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="structaiot__device__status__t.html#ae801a72cf9a3d9d8c4227ecd1b69d97b">   63</a></span>&#160;    uint32_t <a class="code" href="structaiot__device__status__t.html#ae801a72cf9a3d9d8c4227ecd1b69d97b">error_code</a>;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;} <a class="code" href="structaiot__device__status__t.html">aiot_device_status_t</a>;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="aiot__device__api_8h.html#ad8b021565a9bd54f4cc79fcfcbd54c3d">   66</a></span>&#160;<span class="keyword">typedef</span> void (*<a class="code" href="aiot__device__api_8h.html#ad8b021565a9bd54f4cc79fcfcbd54c3d">aiot_device_status_callback_t</a>)(<span class="keywordtype">void</span> *device, <span class="keyword">const</span> <a class="code" href="structaiot__device__status__t.html">aiot_device_status_t</a> *event, <span class="keywordtype">void</span> *userdata);</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="aiot__device__api_8h.html#af455255a22ecd26a14d93f2d066fa4f3">   68</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> {</div><div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="aiot__device__api_8h.html#af455255a22ecd26a14d93f2d066fa4f3a7474266f239be29a800bb0a3099a6521">   72</a></span>&#160;    <a class="code" href="aiot__device__api_8h.html#af455255a22ecd26a14d93f2d066fa4f3a7474266f239be29a800bb0a3099a6521">AIOT_DEVICE_SEND_MESSAGE_RESULT</a>,</div><div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="aiot__device__api_8h.html#af455255a22ecd26a14d93f2d066fa4f3a95b9fd5c4ecd57a04cf0bf68e64f14c1">   76</a></span>&#160;    <a class="code" href="aiot__device__api_8h.html#af455255a22ecd26a14d93f2d066fa4f3a95b9fd5c4ecd57a04cf0bf68e64f14c1">AIOT_DEVICE_REGISTER_TOPIC_RESULT</a>,</div><div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="aiot__device__api_8h.html#af455255a22ecd26a14d93f2d066fa4f3acad436dd0b3028706dcef32aa82bdb21">   80</a></span>&#160;    <a class="code" href="aiot__device__api_8h.html#af455255a22ecd26a14d93f2d066fa4f3acad436dd0b3028706dcef32aa82bdb21">AIOT_DEVICE_UNREGISTER_TOPIC_RESULT</a>,</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}<a class="code" href="aiot__device__api_8h.html#af455255a22ecd26a14d93f2d066fa4f3">aiot_device_msg_result_type_t</a>;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="structaiot__device__msg__result__t.html">   83</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div><div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="structaiot__device__msg__result__t.html#a1442dafe1c973339f47648395c24dd97">   87</a></span>&#160;    aiot_device_msg_result_type_t <a class="code" href="structaiot__device__msg__result__t.html#a1442dafe1c973339f47648395c24dd97">type</a>;</div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="structaiot__device__msg__result__t.html#aa6275dcf9eaf0e8af3f5893cb9685251">   91</a></span>&#160;    int32_t <a class="code" href="structaiot__device__msg__result__t.html#aa6275dcf9eaf0e8af3f5893cb9685251">message_id</a>;</div><div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="structaiot__device__msg__result__t.html#add17cd8a797da1107f1656c403927dbd">   95</a></span>&#160;    int32_t <a class="code" href="structaiot__device__msg__result__t.html#add17cd8a797da1107f1656c403927dbd">code</a>;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;} <a class="code" href="structaiot__device__msg__result__t.html">aiot_device_msg_result_t</a>;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="aiot__device__api_8h.html#a03fb92536a99c4ee8acfe56b812ab550">   98</a></span>&#160;<span class="keyword">typedef</span> void (*<a class="code" href="aiot__device__api_8h.html#a03fb92536a99c4ee8acfe56b812ab550">aiot_device_msg_result_callback_t</a>)(<span class="keywordtype">void</span> *device, <span class="keyword">const</span> <a class="code" href="structaiot__device__msg__result__t.html">aiot_device_msg_result_t</a> *result, <span class="keywordtype">void</span> *userdata);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="keywordtype">void</span> *<a class="code" href="aiot__device__api_8h.html#af8c2990d39c2f1ee00458c6168da5176">aiot_device_create</a>(<span class="keywordtype">char</span> *product_key, <span class="keywordtype">char</span> *device_name);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;int32_t <a class="code" href="aiot__device__api_8h.html#addd8fd8bf19831bd5917340ddaa7023d">aiot_device_set_device_secret</a>(<span class="keywordtype">void</span> *device, <span class="keywordtype">char</span> *device_secret);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;int32_t <a class="code" href="aiot__device__api_8h.html#afc2b6a05429b0fc7206214374ba94a9f">aiot_device_set_linkconfig</a>(<span class="keywordtype">void</span> *device, <a class="code" href="structaiot__linkconfig__t.html">aiot_linkconfig_t</a> *config);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;int32_t <a class="code" href="aiot__device__api_8h.html#a659f1e52d731109f4f8d427ef0b40407">aiot_device_connect</a>(<span class="keywordtype">void</span> *device);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;int32_t <a class="code" href="aiot__device__api_8h.html#adfc03c8b38a9c0768b250912609fef0f">aiot_device_connect_async</a>(<span class="keywordtype">void</span> *device);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;int32_t <a class="code" href="aiot__device__api_8h.html#ad1eaf497ad46c2aa07a90dec084997e3">aiot_device_send_message</a>(<span class="keywordtype">void</span> *device, <span class="keyword">const</span> <a class="code" href="structaiot__msg__t.html">aiot_msg_t</a> *message);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;int32_t <a class="code" href="aiot__device__api_8h.html#ad877b7b96b0c504a295a141313199dac">aiot_device_set_event_callback</a>(<span class="keywordtype">void</span> *device, <a class="code" href="aiot__device__api_8h.html#a9acb42cd541f0f61bc20f742247d2fdc">aiot_device_msg_callback_t</a> msg_recv_callback, <a class="code" href="aiot__device__api_8h.html#ad8b021565a9bd54f4cc79fcfcbd54c3d">aiot_device_status_callback_t</a> status_callback, <a class="code" href="aiot__device__api_8h.html#a03fb92536a99c4ee8acfe56b812ab550">aiot_device_msg_result_callback_t</a> msg_result_callback, <span class="keywordtype">void</span> *userdata);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;int32_t <a class="code" href="aiot__device__api_8h.html#aac2943ebe50e80a431f46a6452403cb6">aiot_device_register_topic_filter</a>(<span class="keywordtype">void</span> *device, <span class="keywordtype">char</span> *topic, <a class="code" href="aiot__device__api_8h.html#a9acb42cd541f0f61bc20f742247d2fdc">aiot_device_msg_callback_t</a> callback, uint8_t sub, <span class="keywordtype">void</span> *userdata);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;int32_t <a class="code" href="aiot__device__api_8h.html#a12983a88c5f9f66f1c2635213c5015bb">aiot_device_deregister_topic_filter</a>(<span class="keywordtype">void</span> *device, <span class="keywordtype">char</span> *topic, uint8_t unsub);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;int32_t <a class="code" href="aiot__device__api_8h.html#a609b7e305c94446e136ca016cbf70098">aiot_device_disconnect</a>(<span class="keywordtype">void</span> *device);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;int32_t <a class="code" href="aiot__device__api_8h.html#a3885a614c2c4d5418b1db04decb130cb">aiot_device_delete</a>(<span class="keywordtype">void</span> **device);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="structaiot__bootstrap__info__t.html">  230</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div><div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="structaiot__bootstrap__info__t.html#abc8f0db20b9ecab9a717a29722d7cfc2">  231</a></span>&#160;    <span class="keywordtype">char</span> host[128];</div><div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="structaiot__bootstrap__info__t.html#af0d5a5e18141280331033940545d3619">  232</a></span>&#160;    uint16_t <a class="code" href="structaiot__bootstrap__info__t.html#af0d5a5e18141280331033940545d3619">port</a>;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;} <a class="code" href="structaiot__bootstrap__info__t.html">aiot_bootstrap_info_t</a>;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;int32_t <a class="code" href="aiot__device__api_8h.html#acf4083c64649a09687ad1111eb6e5e0f">aiot_device_bootstrap_request</a>(<span class="keywordtype">void</span> *device, <a class="code" href="aiot__protocol__api_8h.html#a36398a329e351aaa1fc8f2be9d26d1c0">aiot_protocol_type_t</a> type, <a class="code" href="structaiot__bootstrap__info__t.html">aiot_bootstrap_info_t</a> *info);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;int32_t <a class="code" href="aiot__device__api_8h.html#a5e4b2346c4b52f3113a0c92fa887e1f4">aiot_device_dynamic_secret</a>(<span class="keywordtype">void</span> *device, <a class="code" href="structaiot__linkconfig__t.html">aiot_linkconfig_t</a> *linkconfig, <span class="keywordtype">char</span> *out_device_seceret, int32_t out_secret_len);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno"><a class="line" href="structaiot__dynamic__register__info__t.html">  267</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div><div class="line"><a name="l00268"></a><span class="lineno"><a class="line" href="structaiot__dynamic__register__info__t.html#a71fa612f009cfebfffe8c39ce79c776c">  268</a></span>&#160;    <span class="keywordtype">char</span> username[128];</div><div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="structaiot__dynamic__register__info__t.html#a7655cbd504f8cdb843591a97ab6f71aa">  269</a></span>&#160;    <span class="keywordtype">char</span> password[128];</div><div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="structaiot__dynamic__register__info__t.html#a4665435f468e8e395a4fff0dea0acb50">  270</a></span>&#160;    <span class="keywordtype">char</span> client_id[128];</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;} <a class="code" href="structaiot__dynamic__register__info__t.html">aiot_dynamic_register_info_t</a>;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;int32_t <a class="code" href="aiot__device__api_8h.html#ada3a175ce8aede5b11f82cf94598121c">aiot_device_dynamic_register</a>(<span class="keywordtype">void</span> *device, <a class="code" href="structaiot__linkconfig__t.html">aiot_linkconfig_t</a> *linkconfig, <a class="code" href="structaiot__dynamic__register__info__t.html">aiot_dynamic_register_info_t</a> *info);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="keywordtype">char</span> *<a class="code" href="aiot__device__api_8h.html#a1e58b077a51ef375e26e8c8927a08855">aiot_device_product_key</a>(<span class="keywordtype">void</span> *device);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="keywordtype">char</span> *<a class="code" href="aiot__device__api_8h.html#a1add2b0c42c073722cfa72b53a872e96">aiot_device_name</a>(<span class="keywordtype">void</span> *device);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;int32_t <a class="code" href="aiot__device__api_8h.html#a53ade36ca27a6aa7b1001a3fc1c50935">aiot_device_online</a>(<span class="keywordtype">void</span> *device);</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="preprocessor">#if defined(__cplusplus)</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;}</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="preprocessor">#endif</span></div><div class="ttc" id="aiot__message__api_8h_html"><div class="ttname"><a href="aiot__message__api_8h.html">aiot_message_api.h</a></div></div>
<div class="ttc" id="aiot__device__api_8h_html_addd8fd8bf19831bd5917340ddaa7023d"><div class="ttname"><a href="aiot__device__api_8h.html#addd8fd8bf19831bd5917340ddaa7023d">aiot_device_set_device_secret</a></div><div class="ttdeci">int32_t aiot_device_set_device_secret(void *device, char *device_secret)</div><div class="ttdoc">设置设备建连使用的设备密钥 </div><div class="ttdef"><b>Definition:</b> aiot_device_api.c:194</div></div>
<div class="ttc" id="aiot__device__api_8h_html_ad8b021565a9bd54f4cc79fcfcbd54c3d"><div class="ttname"><a href="aiot__device__api_8h.html#ad8b021565a9bd54f4cc79fcfcbd54c3d">aiot_device_status_callback_t</a></div><div class="ttdeci">void(* aiot_device_status_callback_t)(void *device, const aiot_device_status_t *event, void *userdata)</div><div class="ttdef"><b>Definition:</b> aiot_device_api.h:66</div></div>
<div class="ttc" id="structaiot__device__status__t_html_a4afa92af220276239fdaea035076c06d"><div class="ttname"><a href="structaiot__device__status__t.html#a4afa92af220276239fdaea035076c06d">aiot_device_status_t::type</a></div><div class="ttdeci">aiot_device_status_type_t type</div><div class="ttdoc">内部状态事件类型 </div><div class="ttdef"><b>Definition:</b> aiot_device_api.h:59</div></div>
<div class="ttc" id="aiot__device__api_8h_html_a050e9d39067c122d95a6849a8e03233b"><div class="ttname"><a href="aiot__device__api_8h.html#a050e9d39067c122d95a6849a8e03233b">aiot_device_status_type_t</a></div><div class="ttdeci">aiot_device_status_type_t</div><div class="ttdoc">device状态变化类型 </div><div class="ttdef"><b>Definition:</b> aiot_device_api.h:36</div></div>
<div class="ttc" id="structaiot__bootstrap__info__t_html"><div class="ttname"><a href="structaiot__bootstrap__info__t.html">aiot_bootstrap_info_t</a></div><div class="ttdoc">就近接入返回的接入信息结构体 </div><div class="ttdef"><b>Definition:</b> aiot_device_api.h:230</div></div>
<div class="ttc" id="aiot__device__api_8h_html_a050e9d39067c122d95a6849a8e03233ba1389ca3c94fb778bbe90fa1d071d4a60"><div class="ttname"><a href="aiot__device__api_8h.html#a050e9d39067c122d95a6849a8e03233ba1389ca3c94fb778bbe90fa1d071d4a60">AIOT_DEVICE_STATUS_DISCONNECT</a></div><div class="ttdoc">当实例断开网络连接时, 触发此事件 </div><div class="ttdef"><b>Definition:</b> aiot_device_api.h:48</div></div>
<div class="ttc" id="aiot__device__api_8h_html_af455255a22ecd26a14d93f2d066fa4f3a95b9fd5c4ecd57a04cf0bf68e64f14c1"><div class="ttname"><a href="aiot__device__api_8h.html#af455255a22ecd26a14d93f2d066fa4f3a95b9fd5c4ecd57a04cf0bf68e64f14c1">AIOT_DEVICE_REGISTER_TOPIC_RESULT</a></div><div class="ttdoc">订阅感兴趣的消息的结果 </div><div class="ttdef"><b>Definition:</b> aiot_device_api.h:76</div></div>
<div class="ttc" id="structaiot__device__msg__result__t_html_add17cd8a797da1107f1656c403927dbd"><div class="ttname"><a href="structaiot__device__msg__result__t.html#add17cd8a797da1107f1656c403927dbd">aiot_device_msg_result_t::code</a></div><div class="ttdeci">int32_t code</div><div class="ttdoc">结果 </div><div class="ttdef"><b>Definition:</b> aiot_device_api.h:95</div></div>
<div class="ttc" id="aiot__device__api_8h_html_aac2943ebe50e80a431f46a6452403cb6"><div class="ttname"><a href="aiot__device__api_8h.html#aac2943ebe50e80a431f46a6452403cb6">aiot_device_register_topic_filter</a></div><div class="ttdeci">int32_t aiot_device_register_topic_filter(void *device, char *topic, aiot_device_msg_callback_t callback, uint8_t sub, void *userdata)</div><div class="ttdoc">设备注册感兴趣的topic，接收到该topic的消息，执行对应回调 </div><div class="ttdef"><b>Definition:</b> aiot_device_api.c:342</div></div>
<div class="ttc" id="aiot__device__api_8h_html_af455255a22ecd26a14d93f2d066fa4f3"><div class="ttname"><a href="aiot__device__api_8h.html#af455255a22ecd26a14d93f2d066fa4f3">aiot_device_msg_result_type_t</a></div><div class="ttdeci">aiot_device_msg_result_type_t</div><div class="ttdef"><b>Definition:</b> aiot_device_api.h:68</div></div>
<div class="ttc" id="aiot__linkconfig__api_8h_html"><div class="ttname"><a href="aiot__linkconfig__api_8h.html">aiot_linkconfig_api.h</a></div><div class="ttdoc">连接配置头文件，提供配置连接的基础能力 </div></div>
<div class="ttc" id="aiot__state__api_8h_html"><div class="ttname"><a href="aiot__state__api_8h.html">aiot_state_api.h</a></div><div class="ttdoc">SDK Core状态码头文件, 所有Core中的api返回值均在此列出 </div></div>
<div class="ttc" id="structaiot__dynamic__register__info__t_html"><div class="ttname"><a href="structaiot__dynamic__register__info__t.html">aiot_dynamic_register_info_t</a></div><div class="ttdoc">设备动态注册，返回信息结构体，设备可用这些信息建连 </div><div class="ttdef"><b>Definition:</b> aiot_device_api.h:267</div></div>
<div class="ttc" id="aiot__device__api_8h_html_a050e9d39067c122d95a6849a8e03233ba313fdd653bb6461efcf899b5cd806007"><div class="ttname"><a href="aiot__device__api_8h.html#a050e9d39067c122d95a6849a8e03233ba313fdd653bb6461efcf899b5cd806007">AIOT_DEVICE_STATUS_CONNECT</a></div><div class="ttdoc">当实例第一次连接网络成功时, 触发此事件 </div><div class="ttdef"><b>Definition:</b> aiot_device_api.h:40</div></div>
<div class="ttc" id="aiot__device__api_8h_html_a659f1e52d731109f4f8d427ef0b40407"><div class="ttname"><a href="aiot__device__api_8h.html#a659f1e52d731109f4f8d427ef0b40407">aiot_device_connect</a></div><div class="ttdeci">int32_t aiot_device_connect(void *device)</div><div class="ttdoc">设备与云平台进行连接，阻塞式的 </div><div class="ttdef"><b>Definition:</b> aiot_device_api.c:266</div></div>
<div class="ttc" id="aiot__device__api_8h_html_a1add2b0c42c073722cfa72b53a872e96"><div class="ttname"><a href="aiot__device__api_8h.html#a1add2b0c42c073722cfa72b53a872e96">aiot_device_name</a></div><div class="ttdeci">char * aiot_device_name(void *device)</div><div class="ttdoc">查询设备的device_name </div><div class="ttdef"><b>Definition:</b> aiot_device_api.c:451</div></div>
<div class="ttc" id="structaiot__device__msg__result__t_html_aa6275dcf9eaf0e8af3f5893cb9685251"><div class="ttname"><a href="structaiot__device__msg__result__t.html#aa6275dcf9eaf0e8af3f5893cb9685251">aiot_device_msg_result_t::message_id</a></div><div class="ttdeci">int32_t message_id</div><div class="ttdoc">消息ID </div><div class="ttdef"><b>Definition:</b> aiot_device_api.h:91</div></div>
<div class="ttc" id="structaiot__device__status__t_html_ae801a72cf9a3d9d8c4227ecd1b69d97b"><div class="ttname"><a href="structaiot__device__status__t.html#ae801a72cf9a3d9d8c4227ecd1b69d97b">aiot_device_status_t::error_code</a></div><div class="ttdeci">uint32_t error_code</div><div class="ttdoc">错误码 </div><div class="ttdef"><b>Definition:</b> aiot_device_api.h:63</div></div>
<div class="ttc" id="structaiot__device__status__t_html"><div class="ttname"><a href="structaiot__device__status__t.html">aiot_device_status_t</a></div><div class="ttdoc">内部事件 </div><div class="ttdef"><b>Definition:</b> aiot_device_api.h:54</div></div>
<div class="ttc" id="aiot__protocol__api_8h_html_a36398a329e351aaa1fc8f2be9d26d1c0"><div class="ttname"><a href="aiot__protocol__api_8h.html#a36398a329e351aaa1fc8f2be9d26d1c0">aiot_protocol_type_t</a></div><div class="ttdeci">aiot_protocol_type_t</div><div class="ttdef"><b>Definition:</b> aiot_protocol_api.h:103</div></div>
<div class="ttc" id="aiot__device__api_8h_html_ad1eaf497ad46c2aa07a90dec084997e3"><div class="ttname"><a href="aiot__device__api_8h.html#ad1eaf497ad46c2aa07a90dec084997e3">aiot_device_send_message</a></div><div class="ttdeci">int32_t aiot_device_send_message(void *device, const aiot_msg_t *message)</div><div class="ttdoc">设备向云平台发送消息 </div><div class="ttdef"><b>Definition:</b> aiot_device_api.c:304</div></div>
<div class="ttc" id="aiot__device__api_8h_html_a1e58b077a51ef375e26e8c8927a08855"><div class="ttname"><a href="aiot__device__api_8h.html#a1e58b077a51ef375e26e8c8927a08855">aiot_device_product_key</a></div><div class="ttdeci">char * aiot_device_product_key(void *device)</div><div class="ttdoc">查询设备的product_key </div><div class="ttdef"><b>Definition:</b> aiot_device_api.c:460</div></div>
<div class="ttc" id="aiot__device__api_8h_html_afc2b6a05429b0fc7206214374ba94a9f"><div class="ttname"><a href="aiot__device__api_8h.html#afc2b6a05429b0fc7206214374ba94a9f">aiot_device_set_linkconfig</a></div><div class="ttdeci">int32_t aiot_device_set_linkconfig(void *device, aiot_linkconfig_t *config)</div><div class="ttdoc">设置设备连接的参数 </div><div class="ttdef"><b>Definition:</b> aiot_device_api.c:207</div></div>
<div class="ttc" id="aiot__device__api_8h_html_a12983a88c5f9f66f1c2635213c5015bb"><div class="ttname"><a href="aiot__device__api_8h.html#a12983a88c5f9f66f1c2635213c5015bb">aiot_device_deregister_topic_filter</a></div><div class="ttdeci">int32_t aiot_device_deregister_topic_filter(void *device, char *topic, uint8_t unsub)</div><div class="ttdoc">设备注销topic，接收到该topic的消息，将不再执行回调 </div><div class="ttdef"><b>Definition:</b> aiot_device_api.c:371</div></div>
<div class="ttc" id="aiot__device__api_8h_html_af455255a22ecd26a14d93f2d066fa4f3acad436dd0b3028706dcef32aa82bdb21"><div class="ttname"><a href="aiot__device__api_8h.html#af455255a22ecd26a14d93f2d066fa4f3acad436dd0b3028706dcef32aa82bdb21">AIOT_DEVICE_UNREGISTER_TOPIC_RESULT</a></div><div class="ttdoc">取消订阅消息的结果 </div><div class="ttdef"><b>Definition:</b> aiot_device_api.h:80</div></div>
<div class="ttc" id="aiot__device__api_8h_html_a03fb92536a99c4ee8acfe56b812ab550"><div class="ttname"><a href="aiot__device__api_8h.html#a03fb92536a99c4ee8acfe56b812ab550">aiot_device_msg_result_callback_t</a></div><div class="ttdeci">void(* aiot_device_msg_result_callback_t)(void *device, const aiot_device_msg_result_t *result, void *userdata)</div><div class="ttdef"><b>Definition:</b> aiot_device_api.h:98</div></div>
<div class="ttc" id="structaiot__linkconfig__t_html"><div class="ttname"><a href="structaiot__linkconfig__t.html">aiot_linkconfig_t</a></div><div class="ttdef"><b>Definition:</b> aiot_linkconfig_api.h:21</div></div>
<div class="ttc" id="structaiot__bootstrap__info__t_html_af0d5a5e18141280331033940545d3619"><div class="ttname"><a href="structaiot__bootstrap__info__t.html#af0d5a5e18141280331033940545d3619">aiot_bootstrap_info_t::port</a></div><div class="ttdeci">uint16_t port</div><div class="ttdef"><b>Definition:</b> aiot_device_api.h:232</div></div>
<div class="ttc" id="structaiot__device__msg__result__t_html"><div class="ttname"><a href="structaiot__device__msg__result__t.html">aiot_device_msg_result_t</a></div><div class="ttdef"><b>Definition:</b> aiot_device_api.h:83</div></div>
<div class="ttc" id="aiot__device__api_8h_html_a609b7e305c94446e136ca016cbf70098"><div class="ttname"><a href="aiot__device__api_8h.html#a609b7e305c94446e136ca016cbf70098">aiot_device_disconnect</a></div><div class="ttdeci">int32_t aiot_device_disconnect(void *device)</div><div class="ttdoc">设备与平台断开连接 </div><div class="ttdef"><b>Definition:</b> aiot_device_api.c:397</div></div>
<div class="ttc" id="aiot__device__api_8h_html_a050e9d39067c122d95a6849a8e03233ba38f91e9c44681c815a3fc51a4b274ba1"><div class="ttname"><a href="aiot__device__api_8h.html#a050e9d39067c122d95a6849a8e03233ba38f91e9c44681c815a3fc51a4b274ba1">AIOT_DEVICE_STATUS_RECONNECT</a></div><div class="ttdoc">当实例断开网络连接后重连成功时, 触发此事件 </div><div class="ttdef"><b>Definition:</b> aiot_device_api.h:44</div></div>
<div class="ttc" id="aiot__device__api_8h_html_a5e4b2346c4b52f3113a0c92fa887e1f4"><div class="ttname"><a href="aiot__device__api_8h.html#a5e4b2346c4b52f3113a0c92fa887e1f4">aiot_device_dynamic_secret</a></div><div class="ttdeci">int32_t aiot_device_dynamic_secret(void *device, aiot_linkconfig_t *linkconfig, char *out_device_seceret, int32_t out_secret_len)</div><div class="ttdoc">设备动态获取密钥(设备需先预注册) </div></div>
<div class="ttc" id="structaiot__device__msg__result__t_html_a1442dafe1c973339f47648395c24dd97"><div class="ttname"><a href="structaiot__device__msg__result__t.html#a1442dafe1c973339f47648395c24dd97">aiot_device_msg_result_t::type</a></div><div class="ttdeci">aiot_device_msg_result_type_t type</div><div class="ttdoc">内部状态事件类型 </div><div class="ttdef"><b>Definition:</b> aiot_device_api.h:87</div></div>
<div class="ttc" id="aiot__device__api_8h_html_ada3a175ce8aede5b11f82cf94598121c"><div class="ttname"><a href="aiot__device__api_8h.html#ada3a175ce8aede5b11f82cf94598121c">aiot_device_dynamic_register</a></div><div class="ttdeci">int32_t aiot_device_dynamic_register(void *device, aiot_linkconfig_t *linkconfig, aiot_dynamic_register_info_t *info)</div><div class="ttdoc">设备动态注册(设备无需预注册)，该请求会返回设备建连信息 </div></div>
<div class="ttc" id="aiot__device__api_8h_html_a53ade36ca27a6aa7b1001a3fc1c50935"><div class="ttname"><a href="aiot__device__api_8h.html#a53ade36ca27a6aa7b1001a3fc1c50935">aiot_device_online</a></div><div class="ttdeci">int32_t aiot_device_online(void *device)</div><div class="ttdoc">查询设备的状态 </div><div class="ttdef"><b>Definition:</b> aiot_device_api.c:469</div></div>
<div class="ttc" id="aiot__device__api_8h_html_a9acb42cd541f0f61bc20f742247d2fdc"><div class="ttname"><a href="aiot__device__api_8h.html#a9acb42cd541f0f61bc20f742247d2fdc">aiot_device_msg_callback_t</a></div><div class="ttdeci">void(* aiot_device_msg_callback_t)(void *device, const aiot_msg_t *message, void *userdata)</div><div class="ttdoc">设备报文接收回调函数原型 </div><div class="ttdef"><b>Definition:</b> aiot_device_api.h:31</div></div>
<div class="ttc" id="aiot__device__api_8h_html_af8c2990d39c2f1ee00458c6168da5176"><div class="ttname"><a href="aiot__device__api_8h.html#af8c2990d39c2f1ee00458c6168da5176">aiot_device_create</a></div><div class="ttdeci">void * aiot_device_create(char *product_key, char *device_name)</div><div class="ttdoc">初始化设备并设置默认参数 </div><div class="ttdef"><b>Definition:</b> aiot_device_api.c:169</div></div>
<div class="ttc" id="aiot__device__api_8h_html_ad877b7b96b0c504a295a141313199dac"><div class="ttname"><a href="aiot__device__api_8h.html#ad877b7b96b0c504a295a141313199dac">aiot_device_set_event_callback</a></div><div class="ttdeci">int32_t aiot_device_set_event_callback(void *device, aiot_device_msg_callback_t msg_recv_callback, aiot_device_status_callback_t status_callback, aiot_device_msg_result_callback_t msg_result_callback, void *userdata)</div><div class="ttdoc">设置设备事件：包含消息回调，状态回调 </div><div class="ttdef"><b>Definition:</b> aiot_device_api.c:327</div></div>
<div class="ttc" id="aiot__device__api_8h_html_a3885a614c2c4d5418b1db04decb130cb"><div class="ttname"><a href="aiot__device__api_8h.html#a3885a614c2c4d5418b1db04decb130cb">aiot_device_delete</a></div><div class="ttdeci">int32_t aiot_device_delete(void **device)</div><div class="ttdoc">释放设备实例的资源 </div><div class="ttdef"><b>Definition:</b> aiot_device_api.c:414</div></div>
<div class="ttc" id="aiot__device__api_8h_html_af455255a22ecd26a14d93f2d066fa4f3a7474266f239be29a800bb0a3099a6521"><div class="ttname"><a href="aiot__device__api_8h.html#af455255a22ecd26a14d93f2d066fa4f3a7474266f239be29a800bb0a3099a6521">AIOT_DEVICE_SEND_MESSAGE_RESULT</a></div><div class="ttdoc">消息发送的结果 </div><div class="ttdef"><b>Definition:</b> aiot_device_api.h:72</div></div>
<div class="ttc" id="aiot__device__api_8h_html_adfc03c8b38a9c0768b250912609fef0f"><div class="ttname"><a href="aiot__device__api_8h.html#adfc03c8b38a9c0768b250912609fef0f">aiot_device_connect_async</a></div><div class="ttdeci">int32_t aiot_device_connect_async(void *device)</div><div class="ttdoc">设备与云平台进行连接，异步式的 </div><div class="ttdef"><b>Definition:</b> aiot_device_api.c:227</div></div>
<div class="ttc" id="structaiot__msg__t_html"><div class="ttname"><a href="structaiot__msg__t.html">aiot_msg_t</a></div><div class="ttdoc">描述消息的数据结构 </div><div class="ttdef"><b>Definition:</b> aiot_message_api.h:16</div></div>
<div class="ttc" id="aiot__device__api_8h_html_acf4083c64649a09687ad1111eb6e5e0f"><div class="ttname"><a href="aiot__device__api_8h.html#acf4083c64649a09687ad1111eb6e5e0f">aiot_device_bootstrap_request</a></div><div class="ttdeci">int32_t aiot_device_bootstrap_request(void *device, aiot_protocol_type_t type, aiot_bootstrap_info_t *info)</div><div class="ttdoc">请求就近接入信息 </div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
制作者 &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
