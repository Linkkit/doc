<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Link Kit C-SDK: components/mqtt-upload/aiot_mqtt_upload_api.c 文件参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Link Kit C-SDK
   &#160;<span id="projectnumber">4.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'搜索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>首页</span></a></li>
      <li><a href="annotated.html"><span>类</span></a></li>
      <li class="current"><a href="files.html"><span>文件</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="搜索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>文件列表</span></a></li>
      <li><a href="globals.html"><span>文件成员</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_409f97388efe006bc3438b95e9edef48.html">components</a></li><li class="navelem"><a class="el" href="dir_9c106abe81f950d0b32156dcb3a37660.html">mqtt-upload</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">类</a> &#124;
<a href="#define-members">宏定义</a> &#124;
<a href="#enum-members">枚举</a> &#124;
<a href="#func-members">函数</a> &#124;
<a href="#var-members">变量</a>  </div>
  <div class="headertitle">
<div class="title">aiot_mqtt_upload_api.c 文件参考</div>  </div>
</div><!--header-->
<div class="contents">

<p>MQTT UPLOAD模块头文件, 提供通过mqtt进行文件上传的能力  
<a href="#details">更多...</a></p>
<div class="textblock"><code>#include &quot;mqtt_upload_private.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
aiot_mqtt_upload_api.c 的引用(Include)关系图:</div>
<div class="dyncontent">
<div class="center"><img src="aiot__mqtt__upload__api_8c__incl.png" border="0" usemap="#components_2mqtt-upload_2aiot__mqtt__upload__api_8c" alt=""/></div>
<map name="components_2mqtt-upload_2aiot__mqtt__upload__api_8c" id="components_2mqtt-upload_2aiot__mqtt__upload__api_8c">
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
类</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__upload__sub__topic__map__t.html">_upload_sub_topic_map_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
宏定义</h2></td></tr>
<tr class="memitem:add7c21c0c0fe0df91f7c25a9d346bd36"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#add7c21c0c0fe0df91f7c25a9d346bd36">UPLOAD_GET_U16BIT</a>(h,  l)&#160;&#160;&#160;(((h &lt;&lt; 8) | l) &amp; 0xFFFF)</td></tr>
<tr class="separator:add7c21c0c0fe0df91f7c25a9d346bd36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af493c0a596b30678b2882d94b0ec84f6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#af493c0a596b30678b2882d94b0ec84f6">UPLOAD_GET_U16BIT_HIGH</a>(n)&#160;&#160;&#160;((n &amp; 0xFF00) &gt;&gt; 8)</td></tr>
<tr class="separator:af493c0a596b30678b2882d94b0ec84f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed71448ab635d3e517ff0ddd03b0205c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#aed71448ab635d3e517ff0ddd03b0205c">UPLOAD_GET_U16BIT_LOW</a>(n)&#160;&#160;&#160;(n &amp; 0x00FF)</td></tr>
<tr class="separator:aed71448ab635d3e517ff0ddd03b0205c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f9b12fe76a71437511702f08d26776e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#a0f9b12fe76a71437511702f08d26776e">CHECKER_JSON_DEPTH</a>&#160;&#160;&#160;128</td></tr>
<tr class="separator:a0f9b12fe76a71437511702f08d26776e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
枚举</h2></td></tr>
<tr class="memitem:a8a2111e3576885b09e0c47b51a4c3561"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#a8a2111e3576885b09e0c47b51a4c3561">_upload_json_modes_s</a> { <a class="el" href="aiot__mqtt__upload__api_8c.html#a8a2111e3576885b09e0c47b51a4c3561a11ddb64e03dbf712178e0bb933714f58">JSON_MODE_ARRAY</a>, 
<a class="el" href="aiot__mqtt__upload__api_8c.html#a8a2111e3576885b09e0c47b51a4c3561af6bc0745503c3de1bf32c01407634203">JSON_MODE_DONE</a>, 
<a class="el" href="aiot__mqtt__upload__api_8c.html#a8a2111e3576885b09e0c47b51a4c3561a21b96a27c49d3b78b6f91abc607d886a">JSON_MODE_KEY</a>, 
<a class="el" href="aiot__mqtt__upload__api_8c.html#a8a2111e3576885b09e0c47b51a4c3561a60c8c3d7f9c86ec14d94e9671754cebb">JSON_MODE_OBJECT</a>
 }</td></tr>
<tr class="separator:a8a2111e3576885b09e0c47b51a4c3561"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
函数</h2></td></tr>
<tr class="memitem:a5cfe2b0f95f965aaf20c4bc8cb1f21b2"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#a5cfe2b0f95f965aaf20c4bc8cb1f21b2">_mqtt_upload_filelist_insert</a> (mqtt_upload_handle_t *up_handle, upload_file_task_handle_t *up_task)</td></tr>
<tr class="separator:a5cfe2b0f95f965aaf20c4bc8cb1f21b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7b61ea00b02a4cafc5a4433763cd8f7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#ac7b61ea00b02a4cafc5a4433763cd8f7">_mqtt_upload_filelist_destroy</a> (mqtt_upload_handle_t *up_handle)</td></tr>
<tr class="separator:ac7b61ea00b02a4cafc5a4433763cd8f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6b2e296e4bfa208b80f0600f0e2e09a"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#af6b2e296e4bfa208b80f0600f0e2e09a">_mqtt_upload_resend_pub</a> (mqtt_upload_handle_t *up_handle, upload_file_task_handle_t *up_task)</td></tr>
<tr class="separator:af6b2e296e4bfa208b80f0600f0e2e09a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8da850b3a69b983b313e6563c51f09e0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#a8da850b3a69b983b313e6563c51f09e0">_mqtt_upload_up_task_free</a> (<a class="el" href="structaiot__sysdep__portfile__t.html">aiot_sysdep_portfile_t</a> *sysdep, upload_file_task_handle_t *up_task)</td></tr>
<tr class="separator:a8da850b3a69b983b313e6563c51f09e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e1481ab9a5989c1c76d78c5a1989c90"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#a8e1481ab9a5989c1c76d78c5a1989c90">_mqtt_upload_receive_init_response_handler</a> (void *handle, const <a class="el" href="structaiot__mqtt__recv__t.html">aiot_mqtt_recv_t</a> *const packet, void *userdata)</td></tr>
<tr class="separator:a8e1481ab9a5989c1c76d78c5a1989c90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e51dfa892a686261d011fe2c334640e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#a6e51dfa892a686261d011fe2c334640e">_mqtt_upload_receive_upload_response_handler</a> (void *handle, const <a class="el" href="structaiot__mqtt__recv__t.html">aiot_mqtt_recv_t</a> *const packet, void *userdata)</td></tr>
<tr class="separator:a6e51dfa892a686261d011fe2c334640e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cf1e0e10f19317977552bf40f4bd738"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#a1cf1e0e10f19317977552bf40f4bd738">_mqtt_upload_receive_cancel_response_handler</a> (void *handle, const <a class="el" href="structaiot__mqtt__recv__t.html">aiot_mqtt_recv_t</a> *const packet, void *userdata)</td></tr>
<tr class="separator:a1cf1e0e10f19317977552bf40f4bd738"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04e5cf4d4d3f512c8a27e9aa13923b07"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#a04e5cf4d4d3f512c8a27e9aa13923b07">crc_ibm</a> (uint8_t const *buffer, size_t len)</td></tr>
<tr class="separator:a04e5cf4d4d3f512c8a27e9aa13923b07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7934286775ec56e2cac6ec5e25501680"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#a7934286775ec56e2cac6ec5e25501680">_mqtt_upload_get_uuid</a> (<a class="el" href="structaiot__sysdep__portfile__t.html">aiot_sysdep_portfile_t</a> *sysdep, char *uuid)</td></tr>
<tr class="separator:a7934286775ec56e2cac6ec5e25501680"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca9d23f551b6f3b535901a7d8dd862d3"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#aca9d23f551b6f3b535901a7d8dd862d3">_mqtt_upload_get_payload</a> (<a class="el" href="structaiot__sysdep__portfile__t.html">aiot_sysdep_portfile_t</a> *sysdep, char *params, char **out)</td></tr>
<tr class="separator:aca9d23f551b6f3b535901a7d8dd862d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09701778eeac4c298763385740e674be"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#a09701778eeac4c298763385740e674be">_mqtt_upload_get_topic</a> (mqtt_upload_handle_t *up_handle, char **topic, char *fmt)</td></tr>
<tr class="separator:a09701778eeac4c298763385740e674be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a83a990f226923af271d5b031b82a11"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#a4a83a990f226923af271d5b031b82a11">_mqtt_upload_data_encode_package</a> (uint8_t *data, uint32_t data_len, char *head_payload, uint8_t *payload)</td></tr>
<tr class="separator:a4a83a990f226923af271d5b031b82a11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c5240b88aadbb618da80fcef3e0cc7a"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#a4c5240b88aadbb618da80fcef3e0cc7a">_mqtt_upload_creat_string_malloc</a> (<a class="el" href="structaiot__sysdep__portfile__t.html">aiot_sysdep_portfile_t</a> *sysdep, const char *ch, uint32_t size, char **out)</td></tr>
<tr class="separator:a4c5240b88aadbb618da80fcef3e0cc7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51677424f704cb21e228b3b7be2a5438"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#a51677424f704cb21e228b3b7be2a5438">_mqtt_upload_file_task_init</a> (<a class="el" href="structaiot__sysdep__portfile__t.html">aiot_sysdep_portfile_t</a> *sysdep, upload_file_task_handle_t *up_task, const char *file_name, const uint32_t file_size, const char *mode, const char *digest, const char *uuid, <a class="el" href="aiot__mqtt__upload__api_8h.html#ad44f365cd3717a61f96594933034281d">aiot_mqtt_upload_read_handler_t</a> read_data_handler, const char *extra_params, void *userdata)</td></tr>
<tr class="separator:a51677424f704cb21e228b3b7be2a5438"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac94f789f5c185a768b1cd72c958830d3"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#ac94f789f5c185a768b1cd72c958830d3">_mqtt_upload_send_request_init</a> (mqtt_upload_handle_t *up_handle, upload_file_task_handle_t *up_task)</td></tr>
<tr class="separator:ac94f789f5c185a768b1cd72c958830d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6060172655fa6b62a6823bc7ddc69c2"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#aa6060172655fa6b62a6823bc7ddc69c2">_mqtt_upload_send_block_file</a> (mqtt_upload_handle_t *up_handle, upload_file_task_handle_t *up_task, uint8_t *data, const uint32_t block_size, const uint32_t offset, const uint8_t is_complete)</td></tr>
<tr class="separator:aa6060172655fa6b62a6823bc7ddc69c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc4b50df5099bf2359b6aadc76346fb9"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#acc4b50df5099bf2359b6aadc76346fb9">_mqtt_upload_send_request_cancel</a> (mqtt_upload_handle_t *up_handle, upload_file_task_handle_t *up_task)</td></tr>
<tr class="separator:acc4b50df5099bf2359b6aadc76346fb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bf5609b71279050a7f51be554afa6c6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#a7bf5609b71279050a7f51be554afa6c6">_mqtt_upload_core_mqtt_process_handler</a> (void *context, <a class="el" href="structaiot__mqtt__event__t.html">aiot_mqtt_event_t</a> *event, core_mqtt_event_t *core_event)</td></tr>
<tr class="separator:a7bf5609b71279050a7f51be554afa6c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88fc29ef0f006197013ba030d62c7282"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#a88fc29ef0f006197013ba030d62c7282">_mqtt_upload_mqtt_operate_process_handler</a> (mqtt_upload_handle_t *up_handle, core_mqtt_option_t option)</td></tr>
<tr class="separator:a88fc29ef0f006197013ba030d62c7282"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16eeeca0e835116e83afa39be5cc2962"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#a16eeeca0e835116e83afa39be5cc2962">_mqtt_upload_parse_json</a> (<a class="el" href="structaiot__sysdep__portfile__t.html">aiot_sysdep_portfile_t</a> *sysdep, void *input, uint32_t input_len, char *key_word, char **out)</td></tr>
<tr class="separator:a16eeeca0e835116e83afa39be5cc2962"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67b8c5b72a3761155e7aa9f04e4d3ad6"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#a67b8c5b72a3761155e7aa9f04e4d3ad6">_mqtt_upload_block_size_is_valid</a> (uint32_t block_size, uint8_t is_final)</td></tr>
<tr class="separator:a67b8c5b72a3761155e7aa9f04e4d3ad6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affade777fff2253139297b9cdfc12407"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#affade777fff2253139297b9cdfc12407">_mqtt_upload_recv_response_process</a> (void *handle, <a class="el" href="structaiot__mqtt__upload__recv__t.html">aiot_mqtt_upload_recv_t</a> *packet, upload_file_task_handle_t *up_task)</td></tr>
<tr class="separator:affade777fff2253139297b9cdfc12407"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50aec7c9facd1f399a80131fdedc8846"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#a50aec7c9facd1f399a80131fdedc8846">_mqtt_upload_desc_free</a> (<a class="el" href="structaiot__sysdep__portfile__t.html">aiot_sysdep_portfile_t</a> *sysdep, <a class="el" href="structaiot__mqtt__upload__recv__t.html">aiot_mqtt_upload_recv_t</a> *msg)</td></tr>
<tr class="separator:a50aec7c9facd1f399a80131fdedc8846"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a325c931293f27d4eba4b0d5ca35cd6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#a2a325c931293f27d4eba4b0d5ca35cd6">_mqtt_upload_desc_new</a> (<a class="el" href="structaiot__sysdep__portfile__t.html">aiot_sysdep_portfile_t</a> *sysdep, <a class="el" href="structaiot__mqtt__upload__recv__t.html">aiot_mqtt_upload_recv_t</a> *packet, <a class="el" href="structaiot__mqtt__upload__recv__t.html">aiot_mqtt_upload_recv_t</a> *out_packet)</td></tr>
<tr class="separator:a2a325c931293f27d4eba4b0d5ca35cd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9d04e14784a684635c601fe7a94a8e1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#ae9d04e14784a684635c601fe7a94a8e1">_mqtt_upload_desc_copy</a> (<a class="el" href="structaiot__sysdep__portfile__t.html">aiot_sysdep_portfile_t</a> *sysdep, <a class="el" href="structaiot__mqtt__upload__recv__t.html">aiot_mqtt_upload_recv_t</a> *packet, <a class="el" href="structaiot__mqtt__upload__recv__t.html">aiot_mqtt_upload_recv_t</a> *out_packet)</td></tr>
<tr class="separator:ae9d04e14784a684635c601fe7a94a8e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a003026d7d6a3f03bb54c6327783fb551"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#a003026d7d6a3f03bb54c6327783fb551">_mqtt_upload_subscribe</a> (void *mqtt_handle, mqtt_upload_handle_t *up_handle)</td></tr>
<tr class="separator:a003026d7d6a3f03bb54c6327783fb551"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58b2bb18f599cbae343c8c94657806bb"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#a58b2bb18f599cbae343c8c94657806bb">_mqtt_upload_unsubscribe</a> (mqtt_upload_handle_t *up_handle)</td></tr>
<tr class="separator:a58b2bb18f599cbae343c8c94657806bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add266c2c6c301539797b59993192c98c"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#add266c2c6c301539797b59993192c98c">aiot_mqtt_upload_init</a> (void)</td></tr>
<tr class="memdesc:add266c2c6c301539797b59993192c98c"><td class="mdescLeft">&#160;</td><td class="mdescRight">创建MQTT UPLOAD会话实例, 并以默认值配置会话参数  <a href="#add266c2c6c301539797b59993192c98c">更多...</a><br /></td></tr>
<tr class="separator:add266c2c6c301539797b59993192c98c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94820842ad6a3c3beabd63bb7b1bd477"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#a94820842ad6a3c3beabd63bb7b1bd477">aiot_mqtt_upload_deinit</a> (void **handle)</td></tr>
<tr class="memdesc:a94820842ad6a3c3beabd63bb7b1bd477"><td class="mdescLeft">&#160;</td><td class="mdescRight">结束MQTT UPLOAD会话, 销毁实例并回收资源  <a href="#a94820842ad6a3c3beabd63bb7b1bd477">更多...</a><br /></td></tr>
<tr class="separator:a94820842ad6a3c3beabd63bb7b1bd477"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa1d5128a2497ad28f33bea7e7672127"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#afa1d5128a2497ad28f33bea7e7672127">_upload_get_crc64_hexstr</a> (void *digest, char *crc64_str)</td></tr>
<tr class="separator:afa1d5128a2497ad28f33bea7e7672127"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae59e86941b64e4dc7406c6dd34c12b76"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#ae59e86941b64e4dc7406c6dd34c12b76">_json_push</a> (char *in, int32_t *top, char data)</td></tr>
<tr class="separator:ae59e86941b64e4dc7406c6dd34c12b76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03b84ca1ece78e23da0d775b4752fc95"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#a03b84ca1ece78e23da0d775b4752fc95">_json_pop</a> (char *in, int32_t *top, char data)</td></tr>
<tr class="separator:a03b84ca1ece78e23da0d775b4752fc95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafdaf32d86fa90da3279fb9b5d33a480"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#aafdaf32d86fa90da3279fb9b5d33a480">_json_reject</a> (<a class="el" href="structaiot__sysdep__portfile__t.html">aiot_sysdep_portfile_t</a> *sysdep, char **in)</td></tr>
<tr class="separator:aafdaf32d86fa90da3279fb9b5d33a480"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff555bca9fc8f66247839ad436dc8806"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#aff555bca9fc8f66247839ad436dc8806">_json_destroy</a> (<a class="el" href="structaiot__sysdep__portfile__t.html">aiot_sysdep_portfile_t</a> *sysdep, char **in)</td></tr>
<tr class="separator:aff555bca9fc8f66247839ad436dc8806"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46ef61dca249e09b9666882d60dbea24"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#a46ef61dca249e09b9666882d60dbea24">_upload_extra_params_is_json</a> (<a class="el" href="structaiot__sysdep__portfile__t.html">aiot_sysdep_portfile_t</a> *sysdep, const char *input, uint32_t input_len)</td></tr>
<tr class="separator:a46ef61dca249e09b9666882d60dbea24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedb3e57f1adfb4e65b81db5a81406020"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#aedb3e57f1adfb4e65b81db5a81406020">aiot_mqtt_upload_setopt</a> (void *handle, <a class="el" href="aiot__mqtt__upload__api_8h.html#a11ec5d9420f091c6c3a8fbb485f8ff82">aiot_mqtt_upload_option_t</a> option, void *data)</td></tr>
<tr class="memdesc:aedb3e57f1adfb4e65b81db5a81406020"><td class="mdescLeft">&#160;</td><td class="mdescRight">配置MQTT UPLOAD会话  <a href="#aedb3e57f1adfb4e65b81db5a81406020">更多...</a><br /></td></tr>
<tr class="separator:aedb3e57f1adfb4e65b81db5a81406020"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf3736bb5928d82eb33d574307680e16"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#aaf3736bb5928d82eb33d574307680e16">aiot_mqtt_upload_open_stream</a> (void *handle, char *file_name, <a class="el" href="structaiot__mqtt__upload__recv__t.html">aiot_mqtt_upload_recv_t</a> *packet)</td></tr>
<tr class="memdesc:aaf3736bb5928d82eb33d574307680e16"><td class="mdescLeft">&#160;</td><td class="mdescRight">向MQTT UPLOAD 服务请求发送文件  <a href="#aaf3736bb5928d82eb33d574307680e16">更多...</a><br /></td></tr>
<tr class="separator:aaf3736bb5928d82eb33d574307680e16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a206698b827890fcb7993956c9c3c2d94"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#a206698b827890fcb7993956c9c3c2d94">aiot_mqtt_upload_cancel_stream</a> (void *handle, char *file_name)</td></tr>
<tr class="memdesc:a206698b827890fcb7993956c9c3c2d94"><td class="mdescLeft">&#160;</td><td class="mdescRight">向mqtt_upload服务器请求关闭MQTT通道数据上传命令  <a href="#a206698b827890fcb7993956c9c3c2d94">更多...</a><br /></td></tr>
<tr class="separator:a206698b827890fcb7993956c9c3c2d94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba7b5ec311b4ef5f2a7edec4b523978d"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#aba7b5ec311b4ef5f2a7edec4b523978d">aiot_mqtt_upload_send_data</a> (void *handle, char *file_name, uint8_t *data, uint32_t datalen, uint8_t is_complete)</td></tr>
<tr class="memdesc:aba7b5ec311b4ef5f2a7edec4b523978d"><td class="mdescLeft">&#160;</td><td class="mdescRight">MQTT Upload 数据发送接口，如果没有配置aiot_mqtt_upload_read_handler_t时，使用该接口发送数据  <a href="#aba7b5ec311b4ef5f2a7edec4b523978d">更多...</a><br /></td></tr>
<tr class="separator:aba7b5ec311b4ef5f2a7edec4b523978d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a069d1bea8cb21e17f2a7de5715b93cf5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structaiot__mqtt__upload__result__t.html">aiot_mqtt_upload_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#a069d1bea8cb21e17f2a7de5715b93cf5">aiot_mqtt_upload_process</a> (void *handle)</td></tr>
<tr class="memdesc:a069d1bea8cb21e17f2a7de5715b93cf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">MQTT Upload 处理函数,处理超时和重发逻辑，返回对应文件的执行的状态  <a href="#a069d1bea8cb21e17f2a7de5715b93cf5">更多...</a><br /></td></tr>
<tr class="separator:a069d1bea8cb21e17f2a7de5715b93cf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
变量</h2></td></tr>
<tr class="memitem:a739ff0485b6527a1cbfa07e8ab813cce"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="struct__upload__sub__topic__map__t.html">_upload_sub_topic_map_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#a739ff0485b6527a1cbfa07e8ab813cce">g_upload_sub_topic_map</a> [MQTT_UPLOAD_DEFAULT_SUBTOPIC_NUM]</td></tr>
<tr class="separator:a739ff0485b6527a1cbfa07e8ab813cce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c745d2719fac81649daa0df2ac46aa0"><td class="memItemLeft" align="right" valign="top">static const uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aiot__mqtt__upload__api_8c.html#a9c745d2719fac81649daa0df2ac46aa0">crc_ibm_table</a> [256]</td></tr>
<tr class="separator:a9c745d2719fac81649daa0df2ac46aa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><p>MQTT UPLOAD模块头文件, 提供通过mqtt进行文件上传的能力 </p>
<dl class="section copyright"><dt>版权所有</dt><dd>Copyright (C) 2015-2020 Alibaba Group Holding Limited </dd></dl>
</div><h2 class="groupheader">宏定义说明</h2>
<a class="anchor" id="add7c21c0c0fe0df91f7c25a9d346bd36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UPLOAD_GET_U16BIT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">h, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">l&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(((h &lt;&lt; 8) | l) &amp; 0xFFFF)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af493c0a596b30678b2882d94b0ec84f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UPLOAD_GET_U16BIT_HIGH</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n</td><td>)</td>
          <td>&#160;&#160;&#160;((n &amp; 0xFF00) &gt;&gt; 8)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aed71448ab635d3e517ff0ddd03b0205c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UPLOAD_GET_U16BIT_LOW</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n</td><td>)</td>
          <td>&#160;&#160;&#160;(n &amp; 0x00FF)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a0f9b12fe76a71437511702f08d26776e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHECKER_JSON_DEPTH&#160;&#160;&#160;128</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">枚举类型说明</h2>
<a class="anchor" id="a8a2111e3576885b09e0c47b51a4c3561"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="aiot__mqtt__upload__api_8c.html#a8a2111e3576885b09e0c47b51a4c3561">_upload_json_modes_s</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">枚举值</th></tr><tr><td class="fieldname"><a class="anchor" id="a8a2111e3576885b09e0c47b51a4c3561a11ddb64e03dbf712178e0bb933714f58"></a>JSON_MODE_ARRAY&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a8a2111e3576885b09e0c47b51a4c3561af6bc0745503c3de1bf32c01407634203"></a>JSON_MODE_DONE&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a8a2111e3576885b09e0c47b51a4c3561a21b96a27c49d3b78b6f91abc607d886a"></a>JSON_MODE_KEY&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a8a2111e3576885b09e0c47b51a4c3561a60c8c3d7f9c86ec14d94e9671754cebb"></a>JSON_MODE_OBJECT&#160;</td><td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">函数说明</h2>
<a class="anchor" id="a5cfe2b0f95f965aaf20c4bc8cb1f21b2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t _mqtt_upload_filelist_insert </td>
          <td>(</td>
          <td class="paramtype">mqtt_upload_handle_t *&#160;</td>
          <td class="paramname"><em>up_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">upload_file_task_handle_t *&#160;</td>
          <td class="paramname"><em>up_task</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac7b61ea00b02a4cafc5a4433763cd8f7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _mqtt_upload_filelist_destroy </td>
          <td>(</td>
          <td class="paramtype">mqtt_upload_handle_t *&#160;</td>
          <td class="paramname"><em>up_handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="aiot__mqtt__upload__api_8c_ac7b61ea00b02a4cafc5a4433763cd8f7_cgraph.png" border="0" usemap="#aiot__mqtt__upload__api_8c_ac7b61ea00b02a4cafc5a4433763cd8f7_cgraph" alt=""/></div>
<map name="aiot__mqtt__upload__api_8c_ac7b61ea00b02a4cafc5a4433763cd8f7_cgraph" id="aiot__mqtt__upload__api_8c_ac7b61ea00b02a4cafc5a4433763cd8f7_cgraph">
<area shape="rect" id="node2" href="aiot__mqtt__upload__api_8c.html#a8da850b3a69b983b313e6563c51f09e0" title="_mqtt_upload_up_task_free" alt="" coords="195,13,377,39"/>
<area shape="rect" id="node3" href="aiot__mqtt__upload__api_8c.html#a50aec7c9facd1f399a80131fdedc8846" title="_mqtt_upload_desc_free" alt="" coords="425,13,589,39"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af6b2e296e4bfa208b80f0600f0e2e09a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t _mqtt_upload_resend_pub </td>
          <td>(</td>
          <td class="paramtype">mqtt_upload_handle_t *&#160;</td>
          <td class="paramname"><em>up_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">upload_file_task_handle_t *&#160;</td>
          <td class="paramname"><em>up_task</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="aiot__mqtt__upload__api_8c_af6b2e296e4bfa208b80f0600f0e2e09a_cgraph.png" border="0" usemap="#aiot__mqtt__upload__api_8c_af6b2e296e4bfa208b80f0600f0e2e09a_cgraph" alt=""/></div>
<map name="aiot__mqtt__upload__api_8c_af6b2e296e4bfa208b80f0600f0e2e09a_cgraph" id="aiot__mqtt__upload__api_8c_af6b2e296e4bfa208b80f0600f0e2e09a_cgraph">
<area shape="rect" id="node2" href="aiot__mqtt__upload__api_8c.html#aa6060172655fa6b62a6823bc7ddc69c2" title="_mqtt_upload_send_block_file" alt="" coords="228,348,425,375"/>
<area shape="rect" id="node21" href="aiot__mqtt__upload__api_8c.html#acc4b50df5099bf2359b6aadc76346fb9" title="_mqtt_upload_send_request\l_cancel" alt="" coords="234,282,419,323"/>
<area shape="rect" id="node3" href="aiot__mqtt__upload__api_8c.html#aca9d23f551b6f3b535901a7d8dd862d3" title="_mqtt_upload_get_payload" alt="" coords="475,247,653,273"/>
<area shape="rect" id="node4" href="aiot__mqtt__upload__api_8c.html#a09701778eeac4c298763385740e674be" title="_mqtt_upload_get_topic" alt="" coords="484,348,644,375"/>
<area shape="rect" id="node7" href="aiot__mqtt__upload__api_8c.html#a4a83a990f226923af271d5b031b82a11" title="_mqtt_upload_data_encode\l_package" alt="" coords="473,421,655,462"/>
<area shape="rect" id="node9" href="aiot__mqtt__api_8c.html#a207164cfd12422eb36a48624a1c31db8" title="发送一条PUBLISH报文到MQTT服务器, QoS为0, 用于发布指定的消息 " alt="" coords="512,297,616,324"/>
<area shape="rect" id="node5" href="aiot__mqtt__api_8c.html#a3aefc6194663f3db0d614840ffaffb9a" title="core_mqtt_get_product_key" alt="" coords="706,348,889,375"/>
<area shape="rect" id="node6" href="aiot__mqtt__api_8c.html#af71393abdcc0bfbc5a0ecafb75a7b4c4" title="core_mqtt_get_device_name" alt="" coords="703,399,892,425"/>
<area shape="rect" id="node8" href="aiot__mqtt__upload__api_8c.html#a04e5cf4d4d3f512c8a27e9aa13923b07" title="crc_ibm" alt="" coords="763,449,831,476"/>
<area shape="rect" id="node10" href="aiot__mqtt__api_8c.html#aa2537b0027caddef380ce7b937af59f7" title="_core_mqtt_pub_params\l_check" alt="" coords="715,231,880,273"/>
<area shape="rect" id="node11" href="aiot__mqtt__api_8c.html#a7f699157e4a591241ad1a894918ee01a" title="_core_mqtt_pub_prepare" alt="" coords="715,297,880,324"/>
<area shape="rect" id="node12" href="aiot__mqtt__api_8c.html#afdecdf08db75dc62d6cc9dd4a22ff1d6" title="_core_mqtt_pub" alt="" coords="740,180,855,207"/>
<area shape="rect" id="node13" href="aiot__mqtt__api_8c.html#a5b01b201adad995c05fec1f82a356975" title="_core_mqtt_exec_inc" alt="" coords="945,5,1092,32"/>
<area shape="rect" id="node14" href="aiot__mqtt__api_8c.html#afb769532cc8c423e79d5f8843ea6fab0" title="_core_mqtt_exec_dec" alt="" coords="943,56,1094,83"/>
<area shape="rect" id="node15" href="aiot__mqtt__api_8c.html#a65111a875792262ea2566bbbab350e61" title="_core_mqtt_remain_len\l_encode" alt="" coords="940,107,1097,149"/>
<area shape="rect" id="node16" href="aiot__mqtt__api_8c.html#ab57f5851072d495daaa6c945000d192f" title="_core_mqtt_set_utf8\l_encoded_str" alt="" coords="948,173,1089,214"/>
<area shape="rect" id="node17" href="aiot__mqtt__api_8c.html#a541cad09a05feb91ff78eb23da4ef364" title="_core_mqtt_packet_id" alt="" coords="943,239,1094,265"/>
<area shape="rect" id="node18" href="aiot__mqtt__api_8c.html#ac8fbdef0975e187b70f30d5b2f887a46" title="_core_mqtt_publist\l_insert" alt="" coords="953,290,1085,331"/>
<area shape="rect" id="node19" href="aiot__mqtt__api_8c.html#a589202977e7a0f8a467d51c021813ba5" title="_core_mqtt_write" alt="" coords="957,356,1080,383"/>
<area shape="rect" id="node20" href="aiot__mqtt__api_8c.html#af4f048a7481d88c228bdcb55aa33c7a2" title="_core_mqtt_sysdep_return" alt="" coords="1145,356,1321,383"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8da850b3a69b983b313e6563c51f09e0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _mqtt_upload_up_task_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structaiot__sysdep__portfile__t.html">aiot_sysdep_portfile_t</a> *&#160;</td>
          <td class="paramname"><em>sysdep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">upload_file_task_handle_t *&#160;</td>
          <td class="paramname"><em>up_task</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="aiot__mqtt__upload__api_8c_a8da850b3a69b983b313e6563c51f09e0_cgraph.png" border="0" usemap="#aiot__mqtt__upload__api_8c_a8da850b3a69b983b313e6563c51f09e0_cgraph" alt=""/></div>
<map name="aiot__mqtt__upload__api_8c_a8da850b3a69b983b313e6563c51f09e0_cgraph" id="aiot__mqtt__upload__api_8c_a8da850b3a69b983b313e6563c51f09e0_cgraph">
<area shape="rect" id="node2" href="aiot__mqtt__upload__api_8c.html#a50aec7c9facd1f399a80131fdedc8846" title="_mqtt_upload_desc_free" alt="" coords="236,5,400,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8e1481ab9a5989c1c76d78c5a1989c90"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _mqtt_upload_receive_init_response_handler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structaiot__mqtt__recv__t.html">aiot_mqtt_recv_t</a> *const&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="aiot__mqtt__upload__api_8c_a8e1481ab9a5989c1c76d78c5a1989c90_cgraph.png" border="0" usemap="#aiot__mqtt__upload__api_8c_a8e1481ab9a5989c1c76d78c5a1989c90_cgraph" alt=""/></div>
<map name="aiot__mqtt__upload__api_8c_a8e1481ab9a5989c1c76d78c5a1989c90_cgraph" id="aiot__mqtt__upload__api_8c_a8e1481ab9a5989c1c76d78c5a1989c90_cgraph">
<area shape="rect" id="node2" href="aiot__mqtt__upload__api_8c.html#a16eeeca0e835116e83afa39be5cc2962" title="_mqtt_upload_parse_json" alt="" coords="219,209,389,236"/>
<area shape="rect" id="node3" href="aiot__mqtt__upload__api_8c.html#a2a325c931293f27d4eba4b0d5ca35cd6" title="_mqtt_upload_desc_new" alt="" coords="221,260,387,287"/>
<area shape="rect" id="node5" href="aiot__mqtt__upload__api_8c.html#affade777fff2253139297b9cdfc12407" title="_mqtt_upload_recv_response\l_process" alt="" coords="208,311,400,353"/>
<area shape="rect" id="node28" href="aiot__mqtt__upload__api_8c.html#a50aec7c9facd1f399a80131fdedc8846" title="_mqtt_upload_desc_free" alt="" coords="222,377,386,404"/>
<area shape="rect" id="node4" href="aiot__mqtt__upload__api_8c.html#a4c5240b88aadbb618da80fcef3e0cc7a" title="_mqtt_upload_creat\l_string_malloc" alt="" coords="467,227,603,269"/>
<area shape="rect" id="node6" href="aiot__mqtt__upload__api_8c.html#af6b2e296e4bfa208b80f0600f0e2e09a" title="_mqtt_upload_resend_pub" alt="" coords="448,293,623,320"/>
<area shape="rect" id="node7" href="aiot__mqtt__upload__api_8c.html#aa6060172655fa6b62a6823bc7ddc69c2" title="_mqtt_upload_send_block_file" alt="" coords="671,344,868,371"/>
<area shape="rect" id="node27" href="aiot__mqtt__upload__api_8c.html#a67b8c5b72a3761155e7aa9f04e4d3ad6" title="_mqtt_upload_block\l_size_is_valid" alt="" coords="466,395,605,437"/>
<area shape="rect" id="node26" href="aiot__mqtt__upload__api_8c.html#acc4b50df5099bf2359b6aadc76346fb9" title="_mqtt_upload_send_request\l_cancel" alt="" coords="677,278,862,319"/>
<area shape="rect" id="node8" href="aiot__mqtt__upload__api_8c.html#aca9d23f551b6f3b535901a7d8dd862d3" title="_mqtt_upload_get_payload" alt="" coords="918,344,1095,371"/>
<area shape="rect" id="node9" href="aiot__mqtt__upload__api_8c.html#a09701778eeac4c298763385740e674be" title="_mqtt_upload_get_topic" alt="" coords="927,293,1087,320"/>
<area shape="rect" id="node12" href="aiot__mqtt__upload__api_8c.html#a4a83a990f226923af271d5b031b82a11" title="_mqtt_upload_data_encode\l_package" alt="" coords="916,395,1097,437"/>
<area shape="rect" id="node14" href="aiot__mqtt__api_8c.html#a207164cfd12422eb36a48624a1c31db8" title="发送一条PUBLISH报文到MQTT服务器, QoS为0, 用于发布指定的消息 " alt="" coords="955,239,1059,265"/>
<area shape="rect" id="node10" href="aiot__mqtt__api_8c.html#a3aefc6194663f3db0d614840ffaffb9a" title="core_mqtt_get_product_key" alt="" coords="1149,297,1331,324"/>
<area shape="rect" id="node11" href="aiot__mqtt__api_8c.html#af71393abdcc0bfbc5a0ecafb75a7b4c4" title="core_mqtt_get_device_name" alt="" coords="1145,348,1335,375"/>
<area shape="rect" id="node13" href="aiot__mqtt__upload__api_8c.html#a04e5cf4d4d3f512c8a27e9aa13923b07" title="crc_ibm" alt="" coords="1206,403,1274,429"/>
<area shape="rect" id="node15" href="aiot__mqtt__api_8c.html#aa2537b0027caddef380ce7b937af59f7" title="_core_mqtt_pub_params\l_check" alt="" coords="1157,231,1323,273"/>
<area shape="rect" id="node16" href="aiot__mqtt__api_8c.html#a7f699157e4a591241ad1a894918ee01a" title="_core_mqtt_pub_prepare" alt="" coords="1157,129,1323,156"/>
<area shape="rect" id="node17" href="aiot__mqtt__api_8c.html#afdecdf08db75dc62d6cc9dd4a22ff1d6" title="_core_mqtt_pub" alt="" coords="1183,180,1297,207"/>
<area shape="rect" id="node18" href="aiot__mqtt__api_8c.html#a5b01b201adad995c05fec1f82a356975" title="_core_mqtt_exec_inc" alt="" coords="1388,5,1535,32"/>
<area shape="rect" id="node19" href="aiot__mqtt__api_8c.html#afb769532cc8c423e79d5f8843ea6fab0" title="_core_mqtt_exec_dec" alt="" coords="1386,56,1537,83"/>
<area shape="rect" id="node20" href="aiot__mqtt__api_8c.html#a65111a875792262ea2566bbbab350e61" title="_core_mqtt_remain_len\l_encode" alt="" coords="1383,107,1540,149"/>
<area shape="rect" id="node21" href="aiot__mqtt__api_8c.html#ab57f5851072d495daaa6c945000d192f" title="_core_mqtt_set_utf8\l_encoded_str" alt="" coords="1391,173,1532,214"/>
<area shape="rect" id="node22" href="aiot__mqtt__api_8c.html#a541cad09a05feb91ff78eb23da4ef364" title="_core_mqtt_packet_id" alt="" coords="1386,239,1537,265"/>
<area shape="rect" id="node23" href="aiot__mqtt__api_8c.html#ac8fbdef0975e187b70f30d5b2f887a46" title="_core_mqtt_publist\l_insert" alt="" coords="1395,290,1527,331"/>
<area shape="rect" id="node24" href="aiot__mqtt__api_8c.html#a589202977e7a0f8a467d51c021813ba5" title="_core_mqtt_write" alt="" coords="1400,356,1523,383"/>
<area shape="rect" id="node25" href="aiot__mqtt__api_8c.html#af4f048a7481d88c228bdcb55aa33c7a2" title="_core_mqtt_sysdep_return" alt="" coords="1588,356,1764,383"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6e51dfa892a686261d011fe2c334640e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _mqtt_upload_receive_upload_response_handler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structaiot__mqtt__recv__t.html">aiot_mqtt_recv_t</a> *const&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="aiot__mqtt__upload__api_8c_a6e51dfa892a686261d011fe2c334640e_cgraph.png" border="0" usemap="#aiot__mqtt__upload__api_8c_a6e51dfa892a686261d011fe2c334640e_cgraph" alt=""/></div>
<map name="aiot__mqtt__upload__api_8c_a6e51dfa892a686261d011fe2c334640e_cgraph" id="aiot__mqtt__upload__api_8c_a6e51dfa892a686261d011fe2c334640e_cgraph">
<area shape="rect" id="node2" href="aiot__mqtt__upload__api_8c.html#a16eeeca0e835116e83afa39be5cc2962" title="_mqtt_upload_parse_json" alt="" coords="240,289,411,316"/>
<area shape="rect" id="node3" href="aiot__mqtt__upload__api_8c.html#affade777fff2253139297b9cdfc12407" title="_mqtt_upload_recv_response\l_process" alt="" coords="229,341,421,382"/>
<area shape="rect" id="node26" href="aiot__mqtt__upload__api_8c.html#a50aec7c9facd1f399a80131fdedc8846" title="_mqtt_upload_desc_free" alt="" coords="243,407,407,433"/>
<area shape="rect" id="node4" href="aiot__mqtt__upload__api_8c.html#af6b2e296e4bfa208b80f0600f0e2e09a" title="_mqtt_upload_resend_pub" alt="" coords="469,297,644,324"/>
<area shape="rect" id="node5" href="aiot__mqtt__upload__api_8c.html#aa6060172655fa6b62a6823bc7ddc69c2" title="_mqtt_upload_send_block_file" alt="" coords="692,348,889,375"/>
<area shape="rect" id="node25" href="aiot__mqtt__upload__api_8c.html#a67b8c5b72a3761155e7aa9f04e4d3ad6" title="_mqtt_upload_block\l_size_is_valid" alt="" coords="487,399,626,441"/>
<area shape="rect" id="node24" href="aiot__mqtt__upload__api_8c.html#acc4b50df5099bf2359b6aadc76346fb9" title="_mqtt_upload_send_request\l_cancel" alt="" coords="698,282,883,323"/>
<area shape="rect" id="node6" href="aiot__mqtt__upload__api_8c.html#aca9d23f551b6f3b535901a7d8dd862d3" title="_mqtt_upload_get_payload" alt="" coords="939,247,1117,273"/>
<area shape="rect" id="node7" href="aiot__mqtt__upload__api_8c.html#a09701778eeac4c298763385740e674be" title="_mqtt_upload_get_topic" alt="" coords="948,348,1108,375"/>
<area shape="rect" id="node10" href="aiot__mqtt__upload__api_8c.html#a4a83a990f226923af271d5b031b82a11" title="_mqtt_upload_data_encode\l_package" alt="" coords="937,421,1119,462"/>
<area shape="rect" id="node12" href="aiot__mqtt__api_8c.html#a207164cfd12422eb36a48624a1c31db8" title="发送一条PUBLISH报文到MQTT服务器, QoS为0, 用于发布指定的消息 " alt="" coords="976,297,1080,324"/>
<area shape="rect" id="node8" href="aiot__mqtt__api_8c.html#a3aefc6194663f3db0d614840ffaffb9a" title="core_mqtt_get_product_key" alt="" coords="1170,348,1353,375"/>
<area shape="rect" id="node9" href="aiot__mqtt__api_8c.html#af71393abdcc0bfbc5a0ecafb75a7b4c4" title="core_mqtt_get_device_name" alt="" coords="1167,399,1356,425"/>
<area shape="rect" id="node11" href="aiot__mqtt__upload__api_8c.html#a04e5cf4d4d3f512c8a27e9aa13923b07" title="crc_ibm" alt="" coords="1227,449,1295,476"/>
<area shape="rect" id="node13" href="aiot__mqtt__api_8c.html#aa2537b0027caddef380ce7b937af59f7" title="_core_mqtt_pub_params\l_check" alt="" coords="1179,231,1344,273"/>
<area shape="rect" id="node14" href="aiot__mqtt__api_8c.html#a7f699157e4a591241ad1a894918ee01a" title="_core_mqtt_pub_prepare" alt="" coords="1179,297,1344,324"/>
<area shape="rect" id="node15" href="aiot__mqtt__api_8c.html#afdecdf08db75dc62d6cc9dd4a22ff1d6" title="_core_mqtt_pub" alt="" coords="1204,180,1319,207"/>
<area shape="rect" id="node16" href="aiot__mqtt__api_8c.html#a5b01b201adad995c05fec1f82a356975" title="_core_mqtt_exec_inc" alt="" coords="1409,5,1556,32"/>
<area shape="rect" id="node17" href="aiot__mqtt__api_8c.html#afb769532cc8c423e79d5f8843ea6fab0" title="_core_mqtt_exec_dec" alt="" coords="1407,56,1558,83"/>
<area shape="rect" id="node18" href="aiot__mqtt__api_8c.html#a65111a875792262ea2566bbbab350e61" title="_core_mqtt_remain_len\l_encode" alt="" coords="1404,107,1561,149"/>
<area shape="rect" id="node19" href="aiot__mqtt__api_8c.html#ab57f5851072d495daaa6c945000d192f" title="_core_mqtt_set_utf8\l_encoded_str" alt="" coords="1412,173,1553,214"/>
<area shape="rect" id="node20" href="aiot__mqtt__api_8c.html#a541cad09a05feb91ff78eb23da4ef364" title="_core_mqtt_packet_id" alt="" coords="1407,239,1558,265"/>
<area shape="rect" id="node21" href="aiot__mqtt__api_8c.html#ac8fbdef0975e187b70f30d5b2f887a46" title="_core_mqtt_publist\l_insert" alt="" coords="1417,290,1549,331"/>
<area shape="rect" id="node22" href="aiot__mqtt__api_8c.html#a589202977e7a0f8a467d51c021813ba5" title="_core_mqtt_write" alt="" coords="1421,356,1544,383"/>
<area shape="rect" id="node23" href="aiot__mqtt__api_8c.html#af4f048a7481d88c228bdcb55aa33c7a2" title="_core_mqtt_sysdep_return" alt="" coords="1609,356,1785,383"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1cf1e0e10f19317977552bf40f4bd738"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _mqtt_upload_receive_cancel_response_handler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structaiot__mqtt__recv__t.html">aiot_mqtt_recv_t</a> *const&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="aiot__mqtt__upload__api_8c_a1cf1e0e10f19317977552bf40f4bd738_cgraph.png" border="0" usemap="#aiot__mqtt__upload__api_8c_a1cf1e0e10f19317977552bf40f4bd738_cgraph" alt=""/></div>
<map name="aiot__mqtt__upload__api_8c_a1cf1e0e10f19317977552bf40f4bd738_cgraph" id="aiot__mqtt__upload__api_8c_a1cf1e0e10f19317977552bf40f4bd738_cgraph">
<area shape="rect" id="node2" href="aiot__mqtt__upload__api_8c.html#a16eeeca0e835116e83afa39be5cc2962" title="_mqtt_upload_parse_json" alt="" coords="240,289,411,316"/>
<area shape="rect" id="node3" href="aiot__mqtt__upload__api_8c.html#affade777fff2253139297b9cdfc12407" title="_mqtt_upload_recv_response\l_process" alt="" coords="229,341,421,382"/>
<area shape="rect" id="node26" href="aiot__mqtt__upload__api_8c.html#a50aec7c9facd1f399a80131fdedc8846" title="_mqtt_upload_desc_free" alt="" coords="243,407,407,433"/>
<area shape="rect" id="node4" href="aiot__mqtt__upload__api_8c.html#af6b2e296e4bfa208b80f0600f0e2e09a" title="_mqtt_upload_resend_pub" alt="" coords="469,297,644,324"/>
<area shape="rect" id="node5" href="aiot__mqtt__upload__api_8c.html#aa6060172655fa6b62a6823bc7ddc69c2" title="_mqtt_upload_send_block_file" alt="" coords="692,348,889,375"/>
<area shape="rect" id="node25" href="aiot__mqtt__upload__api_8c.html#a67b8c5b72a3761155e7aa9f04e4d3ad6" title="_mqtt_upload_block\l_size_is_valid" alt="" coords="487,399,626,441"/>
<area shape="rect" id="node24" href="aiot__mqtt__upload__api_8c.html#acc4b50df5099bf2359b6aadc76346fb9" title="_mqtt_upload_send_request\l_cancel" alt="" coords="698,282,883,323"/>
<area shape="rect" id="node6" href="aiot__mqtt__upload__api_8c.html#aca9d23f551b6f3b535901a7d8dd862d3" title="_mqtt_upload_get_payload" alt="" coords="939,247,1117,273"/>
<area shape="rect" id="node7" href="aiot__mqtt__upload__api_8c.html#a09701778eeac4c298763385740e674be" title="_mqtt_upload_get_topic" alt="" coords="948,348,1108,375"/>
<area shape="rect" id="node10" href="aiot__mqtt__upload__api_8c.html#a4a83a990f226923af271d5b031b82a11" title="_mqtt_upload_data_encode\l_package" alt="" coords="937,421,1119,462"/>
<area shape="rect" id="node12" href="aiot__mqtt__api_8c.html#a207164cfd12422eb36a48624a1c31db8" title="发送一条PUBLISH报文到MQTT服务器, QoS为0, 用于发布指定的消息 " alt="" coords="976,297,1080,324"/>
<area shape="rect" id="node8" href="aiot__mqtt__api_8c.html#a3aefc6194663f3db0d614840ffaffb9a" title="core_mqtt_get_product_key" alt="" coords="1170,348,1353,375"/>
<area shape="rect" id="node9" href="aiot__mqtt__api_8c.html#af71393abdcc0bfbc5a0ecafb75a7b4c4" title="core_mqtt_get_device_name" alt="" coords="1167,399,1356,425"/>
<area shape="rect" id="node11" href="aiot__mqtt__upload__api_8c.html#a04e5cf4d4d3f512c8a27e9aa13923b07" title="crc_ibm" alt="" coords="1227,449,1295,476"/>
<area shape="rect" id="node13" href="aiot__mqtt__api_8c.html#aa2537b0027caddef380ce7b937af59f7" title="_core_mqtt_pub_params\l_check" alt="" coords="1179,231,1344,273"/>
<area shape="rect" id="node14" href="aiot__mqtt__api_8c.html#a7f699157e4a591241ad1a894918ee01a" title="_core_mqtt_pub_prepare" alt="" coords="1179,297,1344,324"/>
<area shape="rect" id="node15" href="aiot__mqtt__api_8c.html#afdecdf08db75dc62d6cc9dd4a22ff1d6" title="_core_mqtt_pub" alt="" coords="1204,180,1319,207"/>
<area shape="rect" id="node16" href="aiot__mqtt__api_8c.html#a5b01b201adad995c05fec1f82a356975" title="_core_mqtt_exec_inc" alt="" coords="1409,5,1556,32"/>
<area shape="rect" id="node17" href="aiot__mqtt__api_8c.html#afb769532cc8c423e79d5f8843ea6fab0" title="_core_mqtt_exec_dec" alt="" coords="1407,56,1558,83"/>
<area shape="rect" id="node18" href="aiot__mqtt__api_8c.html#a65111a875792262ea2566bbbab350e61" title="_core_mqtt_remain_len\l_encode" alt="" coords="1404,107,1561,149"/>
<area shape="rect" id="node19" href="aiot__mqtt__api_8c.html#ab57f5851072d495daaa6c945000d192f" title="_core_mqtt_set_utf8\l_encoded_str" alt="" coords="1412,173,1553,214"/>
<area shape="rect" id="node20" href="aiot__mqtt__api_8c.html#a541cad09a05feb91ff78eb23da4ef364" title="_core_mqtt_packet_id" alt="" coords="1407,239,1558,265"/>
<area shape="rect" id="node21" href="aiot__mqtt__api_8c.html#ac8fbdef0975e187b70f30d5b2f887a46" title="_core_mqtt_publist\l_insert" alt="" coords="1417,290,1549,331"/>
<area shape="rect" id="node22" href="aiot__mqtt__api_8c.html#a589202977e7a0f8a467d51c021813ba5" title="_core_mqtt_write" alt="" coords="1421,356,1544,383"/>
<area shape="rect" id="node23" href="aiot__mqtt__api_8c.html#af4f048a7481d88c228bdcb55aa33c7a2" title="_core_mqtt_sysdep_return" alt="" coords="1609,356,1785,383"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a04e5cf4d4d3f512c8a27e9aa13923b07"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t crc_ibm </td>
          <td>(</td>
          <td class="paramtype">uint8_t const *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7934286775ec56e2cac6ec5e25501680"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _mqtt_upload_get_uuid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structaiot__sysdep__portfile__t.html">aiot_sysdep_portfile_t</a> *&#160;</td>
          <td class="paramname"><em>sysdep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>uuid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aca9d23f551b6f3b535901a7d8dd862d3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t _mqtt_upload_get_payload </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structaiot__sysdep__portfile__t.html">aiot_sysdep_portfile_t</a> *&#160;</td>
          <td class="paramname"><em>sysdep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a09701778eeac4c298763385740e674be"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t _mqtt_upload_get_topic </td>
          <td>(</td>
          <td class="paramtype">mqtt_upload_handle_t *&#160;</td>
          <td class="paramname"><em>up_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>topic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>fmt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="aiot__mqtt__upload__api_8c_a09701778eeac4c298763385740e674be_cgraph.png" border="0" usemap="#aiot__mqtt__upload__api_8c_a09701778eeac4c298763385740e674be_cgraph" alt=""/></div>
<map name="aiot__mqtt__upload__api_8c_a09701778eeac4c298763385740e674be_cgraph" id="aiot__mqtt__upload__api_8c_a09701778eeac4c298763385740e674be_cgraph">
<area shape="rect" id="node2" href="aiot__mqtt__api_8c.html#a3aefc6194663f3db0d614840ffaffb9a" title="core_mqtt_get_product_key" alt="" coords="217,5,399,32"/>
<area shape="rect" id="node3" href="aiot__mqtt__api_8c.html#af71393abdcc0bfbc5a0ecafb75a7b4c4" title="core_mqtt_get_device_name" alt="" coords="213,56,403,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4a83a990f226923af271d5b031b82a11"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t _mqtt_upload_data_encode_package </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>data_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>head_payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>payload</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="aiot__mqtt__upload__api_8c_a4a83a990f226923af271d5b031b82a11_cgraph.png" border="0" usemap="#aiot__mqtt__upload__api_8c_a4a83a990f226923af271d5b031b82a11_cgraph" alt=""/></div>
<map name="aiot__mqtt__upload__api_8c_a4a83a990f226923af271d5b031b82a11_cgraph" id="aiot__mqtt__upload__api_8c_a4a83a990f226923af271d5b031b82a11_cgraph">
<area shape="rect" id="node2" href="aiot__mqtt__upload__api_8c.html#a04e5cf4d4d3f512c8a27e9aa13923b07" title="crc_ibm" alt="" coords="235,13,303,39"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4c5240b88aadbb618da80fcef3e0cc7a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t _mqtt_upload_creat_string_malloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structaiot__sysdep__portfile__t.html">aiot_sysdep_portfile_t</a> *&#160;</td>
          <td class="paramname"><em>sysdep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a51677424f704cb21e228b3b7be2a5438"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t _mqtt_upload_file_task_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structaiot__sysdep__portfile__t.html">aiot_sysdep_portfile_t</a> *&#160;</td>
          <td class="paramname"><em>sysdep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">upload_file_task_handle_t *&#160;</td>
          <td class="paramname"><em>up_task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>file_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>digest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="aiot__mqtt__upload__api_8h.html#ad44f365cd3717a61f96594933034281d">aiot_mqtt_upload_read_handler_t</a>&#160;</td>
          <td class="paramname"><em>read_data_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>extra_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="aiot__mqtt__upload__api_8c_a51677424f704cb21e228b3b7be2a5438_cgraph.png" border="0" usemap="#aiot__mqtt__upload__api_8c_a51677424f704cb21e228b3b7be2a5438_cgraph" alt=""/></div>
<map name="aiot__mqtt__upload__api_8c_a51677424f704cb21e228b3b7be2a5438_cgraph" id="aiot__mqtt__upload__api_8c_a51677424f704cb21e228b3b7be2a5438_cgraph">
<area shape="rect" id="node2" href="aiot__mqtt__upload__api_8c.html#a4c5240b88aadbb618da80fcef3e0cc7a" title="_mqtt_upload_creat\l_string_malloc" alt="" coords="233,5,369,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac94f789f5c185a768b1cd72c958830d3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t _mqtt_upload_send_request_init </td>
          <td>(</td>
          <td class="paramtype">mqtt_upload_handle_t *&#160;</td>
          <td class="paramname"><em>up_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">upload_file_task_handle_t *&#160;</td>
          <td class="paramname"><em>up_task</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="aiot__mqtt__upload__api_8c_ac94f789f5c185a768b1cd72c958830d3_cgraph.png" border="0" usemap="#aiot__mqtt__upload__api_8c_ac94f789f5c185a768b1cd72c958830d3_cgraph" alt=""/></div>
<map name="aiot__mqtt__upload__api_8c_ac94f789f5c185a768b1cd72c958830d3_cgraph" id="aiot__mqtt__upload__api_8c_ac94f789f5c185a768b1cd72c958830d3_cgraph">
<area shape="rect" id="node2" href="aiot__mqtt__upload__api_8c.html#aca9d23f551b6f3b535901a7d8dd862d3" title="_mqtt_upload_get_payload" alt="" coords="263,5,440,32"/>
<area shape="rect" id="node3" href="aiot__mqtt__upload__api_8c.html#a09701778eeac4c298763385740e674be" title="_mqtt_upload_get_topic" alt="" coords="271,56,431,83"/>
<area shape="rect" id="node6" href="aiot__mqtt__api_8c.html#a207164cfd12422eb36a48624a1c31db8" title="发送一条PUBLISH报文到MQTT服务器, QoS为0, 用于发布指定的消息 " alt="" coords="299,144,403,171"/>
<area shape="rect" id="node4" href="aiot__mqtt__api_8c.html#a3aefc6194663f3db0d614840ffaffb9a" title="core_mqtt_get_product_key" alt="" coords="491,5,674,32"/>
<area shape="rect" id="node5" href="aiot__mqtt__api_8c.html#af71393abdcc0bfbc5a0ecafb75a7b4c4" title="core_mqtt_get_device_name" alt="" coords="488,56,677,83"/>
<area shape="rect" id="node7" href="aiot__mqtt__api_8c.html#aa2537b0027caddef380ce7b937af59f7" title="_core_mqtt_pub_params\l_check" alt="" coords="500,107,665,149"/>
<area shape="rect" id="node8" href="aiot__mqtt__api_8c.html#a7f699157e4a591241ad1a894918ee01a" title="_core_mqtt_pub_prepare" alt="" coords="500,173,665,200"/>
<area shape="rect" id="node9" href="aiot__mqtt__api_8c.html#afdecdf08db75dc62d6cc9dd4a22ff1d6" title="_core_mqtt_pub" alt="" coords="525,224,640,251"/>
<area shape="rect" id="node10" href="aiot__mqtt__api_8c.html#a5b01b201adad995c05fec1f82a356975" title="_core_mqtt_exec_inc" alt="" coords="731,49,877,76"/>
<area shape="rect" id="node11" href="aiot__mqtt__api_8c.html#afb769532cc8c423e79d5f8843ea6fab0" title="_core_mqtt_exec_dec" alt="" coords="729,100,879,127"/>
<area shape="rect" id="node12" href="aiot__mqtt__api_8c.html#a65111a875792262ea2566bbbab350e61" title="_core_mqtt_remain_len\l_encode" alt="" coords="725,151,883,193"/>
<area shape="rect" id="node13" href="aiot__mqtt__api_8c.html#ab57f5851072d495daaa6c945000d192f" title="_core_mqtt_set_utf8\l_encoded_str" alt="" coords="733,217,875,258"/>
<area shape="rect" id="node14" href="aiot__mqtt__api_8c.html#a541cad09a05feb91ff78eb23da4ef364" title="_core_mqtt_packet_id" alt="" coords="729,283,879,309"/>
<area shape="rect" id="node15" href="aiot__mqtt__api_8c.html#ac8fbdef0975e187b70f30d5b2f887a46" title="_core_mqtt_publist\l_insert" alt="" coords="738,334,870,375"/>
<area shape="rect" id="node16" href="aiot__mqtt__api_8c.html#a589202977e7a0f8a467d51c021813ba5" title="_core_mqtt_write" alt="" coords="743,400,865,427"/>
<area shape="rect" id="node17" href="aiot__mqtt__api_8c.html#af4f048a7481d88c228bdcb55aa33c7a2" title="_core_mqtt_sysdep_return" alt="" coords="931,400,1107,427"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa6060172655fa6b62a6823bc7ddc69c2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t _mqtt_upload_send_block_file </td>
          <td>(</td>
          <td class="paramtype">mqtt_upload_handle_t *&#160;</td>
          <td class="paramname"><em>up_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">upload_file_task_handle_t *&#160;</td>
          <td class="paramname"><em>up_task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>block_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>is_complete</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="aiot__mqtt__upload__api_8c_aa6060172655fa6b62a6823bc7ddc69c2_cgraph.png" border="0" usemap="#aiot__mqtt__upload__api_8c_aa6060172655fa6b62a6823bc7ddc69c2_cgraph" alt=""/></div>
<map name="aiot__mqtt__upload__api_8c_aa6060172655fa6b62a6823bc7ddc69c2_cgraph" id="aiot__mqtt__upload__api_8c_aa6060172655fa6b62a6823bc7ddc69c2_cgraph">
<area shape="rect" id="node2" href="aiot__mqtt__upload__api_8c.html#aca9d23f551b6f3b535901a7d8dd862d3" title="_mqtt_upload_get_payload" alt="" coords="253,5,430,32"/>
<area shape="rect" id="node3" href="aiot__mqtt__upload__api_8c.html#a09701778eeac4c298763385740e674be" title="_mqtt_upload_get_topic" alt="" coords="261,56,421,83"/>
<area shape="rect" id="node6" href="aiot__mqtt__upload__api_8c.html#a4a83a990f226923af271d5b031b82a11" title="_mqtt_upload_data_encode\l_package" alt="" coords="251,107,432,149"/>
<area shape="rect" id="node8" href="aiot__mqtt__api_8c.html#a207164cfd12422eb36a48624a1c31db8" title="发送一条PUBLISH报文到MQTT服务器, QoS为0, 用于发布指定的消息 " alt="" coords="289,201,393,228"/>
<area shape="rect" id="node4" href="aiot__mqtt__api_8c.html#a3aefc6194663f3db0d614840ffaffb9a" title="core_mqtt_get_product_key" alt="" coords="483,7,666,33"/>
<area shape="rect" id="node5" href="aiot__mqtt__api_8c.html#af71393abdcc0bfbc5a0ecafb75a7b4c4" title="core_mqtt_get_device_name" alt="" coords="480,57,669,84"/>
<area shape="rect" id="node7" href="aiot__mqtt__upload__api_8c.html#a04e5cf4d4d3f512c8a27e9aa13923b07" title="crc_ibm" alt="" coords="541,112,609,139"/>
<area shape="rect" id="node9" href="aiot__mqtt__api_8c.html#aa2537b0027caddef380ce7b937af59f7" title="_core_mqtt_pub_params\l_check" alt="" coords="492,163,657,205"/>
<area shape="rect" id="node10" href="aiot__mqtt__api_8c.html#a7f699157e4a591241ad1a894918ee01a" title="_core_mqtt_pub_prepare" alt="" coords="492,229,657,256"/>
<area shape="rect" id="node11" href="aiot__mqtt__api_8c.html#afdecdf08db75dc62d6cc9dd4a22ff1d6" title="_core_mqtt_pub" alt="" coords="517,280,632,307"/>
<area shape="rect" id="node12" href="aiot__mqtt__api_8c.html#a5b01b201adad995c05fec1f82a356975" title="_core_mqtt_exec_inc" alt="" coords="723,105,869,132"/>
<area shape="rect" id="node13" href="aiot__mqtt__api_8c.html#afb769532cc8c423e79d5f8843ea6fab0" title="_core_mqtt_exec_dec" alt="" coords="721,156,871,183"/>
<area shape="rect" id="node14" href="aiot__mqtt__api_8c.html#a65111a875792262ea2566bbbab350e61" title="_core_mqtt_remain_len\l_encode" alt="" coords="717,207,875,249"/>
<area shape="rect" id="node15" href="aiot__mqtt__api_8c.html#ab57f5851072d495daaa6c945000d192f" title="_core_mqtt_set_utf8\l_encoded_str" alt="" coords="725,273,867,314"/>
<area shape="rect" id="node16" href="aiot__mqtt__api_8c.html#a541cad09a05feb91ff78eb23da4ef364" title="_core_mqtt_packet_id" alt="" coords="721,339,871,365"/>
<area shape="rect" id="node17" href="aiot__mqtt__api_8c.html#ac8fbdef0975e187b70f30d5b2f887a46" title="_core_mqtt_publist\l_insert" alt="" coords="730,390,862,431"/>
<area shape="rect" id="node18" href="aiot__mqtt__api_8c.html#a589202977e7a0f8a467d51c021813ba5" title="_core_mqtt_write" alt="" coords="735,456,857,483"/>
<area shape="rect" id="node19" href="aiot__mqtt__api_8c.html#af4f048a7481d88c228bdcb55aa33c7a2" title="_core_mqtt_sysdep_return" alt="" coords="923,456,1099,483"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acc4b50df5099bf2359b6aadc76346fb9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t _mqtt_upload_send_request_cancel </td>
          <td>(</td>
          <td class="paramtype">mqtt_upload_handle_t *&#160;</td>
          <td class="paramname"><em>up_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">upload_file_task_handle_t *&#160;</td>
          <td class="paramname"><em>up_task</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="aiot__mqtt__upload__api_8c_acc4b50df5099bf2359b6aadc76346fb9_cgraph.png" border="0" usemap="#aiot__mqtt__upload__api_8c_acc4b50df5099bf2359b6aadc76346fb9_cgraph" alt=""/></div>
<map name="aiot__mqtt__upload__api_8c_acc4b50df5099bf2359b6aadc76346fb9_cgraph" id="aiot__mqtt__upload__api_8c_acc4b50df5099bf2359b6aadc76346fb9_cgraph">
<area shape="rect" id="node2" href="aiot__mqtt__upload__api_8c.html#aca9d23f551b6f3b535901a7d8dd862d3" title="_mqtt_upload_get_payload" alt="" coords="239,5,416,32"/>
<area shape="rect" id="node3" href="aiot__mqtt__upload__api_8c.html#a09701778eeac4c298763385740e674be" title="_mqtt_upload_get_topic" alt="" coords="247,56,407,83"/>
<area shape="rect" id="node6" href="aiot__mqtt__api_8c.html#a207164cfd12422eb36a48624a1c31db8" title="发送一条PUBLISH报文到MQTT服务器, QoS为0, 用于发布指定的消息 " alt="" coords="275,144,379,171"/>
<area shape="rect" id="node4" href="aiot__mqtt__api_8c.html#a3aefc6194663f3db0d614840ffaffb9a" title="core_mqtt_get_product_key" alt="" coords="467,5,650,32"/>
<area shape="rect" id="node5" href="aiot__mqtt__api_8c.html#af71393abdcc0bfbc5a0ecafb75a7b4c4" title="core_mqtt_get_device_name" alt="" coords="464,56,653,83"/>
<area shape="rect" id="node7" href="aiot__mqtt__api_8c.html#aa2537b0027caddef380ce7b937af59f7" title="_core_mqtt_pub_params\l_check" alt="" coords="476,107,641,149"/>
<area shape="rect" id="node8" href="aiot__mqtt__api_8c.html#a7f699157e4a591241ad1a894918ee01a" title="_core_mqtt_pub_prepare" alt="" coords="476,173,641,200"/>
<area shape="rect" id="node9" href="aiot__mqtt__api_8c.html#afdecdf08db75dc62d6cc9dd4a22ff1d6" title="_core_mqtt_pub" alt="" coords="501,224,616,251"/>
<area shape="rect" id="node10" href="aiot__mqtt__api_8c.html#a5b01b201adad995c05fec1f82a356975" title="_core_mqtt_exec_inc" alt="" coords="707,49,853,76"/>
<area shape="rect" id="node11" href="aiot__mqtt__api_8c.html#afb769532cc8c423e79d5f8843ea6fab0" title="_core_mqtt_exec_dec" alt="" coords="705,100,855,127"/>
<area shape="rect" id="node12" href="aiot__mqtt__api_8c.html#a65111a875792262ea2566bbbab350e61" title="_core_mqtt_remain_len\l_encode" alt="" coords="701,151,859,193"/>
<area shape="rect" id="node13" href="aiot__mqtt__api_8c.html#ab57f5851072d495daaa6c945000d192f" title="_core_mqtt_set_utf8\l_encoded_str" alt="" coords="709,217,851,258"/>
<area shape="rect" id="node14" href="aiot__mqtt__api_8c.html#a541cad09a05feb91ff78eb23da4ef364" title="_core_mqtt_packet_id" alt="" coords="705,283,855,309"/>
<area shape="rect" id="node15" href="aiot__mqtt__api_8c.html#ac8fbdef0975e187b70f30d5b2f887a46" title="_core_mqtt_publist\l_insert" alt="" coords="714,334,846,375"/>
<area shape="rect" id="node16" href="aiot__mqtt__api_8c.html#a589202977e7a0f8a467d51c021813ba5" title="_core_mqtt_write" alt="" coords="719,400,841,427"/>
<area shape="rect" id="node17" href="aiot__mqtt__api_8c.html#af4f048a7481d88c228bdcb55aa33c7a2" title="_core_mqtt_sysdep_return" alt="" coords="907,400,1083,427"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7bf5609b71279050a7f51be554afa6c6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _mqtt_upload_core_mqtt_process_handler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structaiot__mqtt__event__t.html">aiot_mqtt_event_t</a> *&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">core_mqtt_event_t *&#160;</td>
          <td class="paramname"><em>core_event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a88fc29ef0f006197013ba030d62c7282"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t _mqtt_upload_mqtt_operate_process_handler </td>
          <td>(</td>
          <td class="paramtype">mqtt_upload_handle_t *&#160;</td>
          <td class="paramname"><em>up_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">core_mqtt_option_t&#160;</td>
          <td class="paramname"><em>option</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="aiot__mqtt__upload__api_8c_a88fc29ef0f006197013ba030d62c7282_cgraph.png" border="0" usemap="#aiot__mqtt__upload__api_8c_a88fc29ef0f006197013ba030d62c7282_cgraph" alt=""/></div>
<map name="aiot__mqtt__upload__api_8c_a88fc29ef0f006197013ba030d62c7282_cgraph" id="aiot__mqtt__upload__api_8c_a88fc29ef0f006197013ba030d62c7282_cgraph">
<area shape="rect" id="node2" href="aiot__mqtt__upload__api_8c.html#a7bf5609b71279050a7f51be554afa6c6" title="_mqtt_upload_core_mqtt\l_process_handler" alt="" coords="236,5,401,47"/>
<area shape="rect" id="node3" href="aiot__mqtt__api_8c.html#a6b62ed693cf62c57cb64dd216de38d9a" title="core_mqtt_setopt" alt="" coords="257,71,380,98"/>
<area shape="rect" id="node4" href="aiot__mqtt__api_8c.html#a885a4308d8c2d140ebcb54af831dbb40" title="_core_mqtt_append_process_data" alt="" coords="450,43,671,70"/>
<area shape="rect" id="node6" href="aiot__mqtt__api_8c.html#ad74092a7f15163ad5a2ee1fdcda6aa0f" title="_core_mqtt_remove_process_data" alt="" coords="449,98,672,125"/>
<area shape="rect" id="node5" href="aiot__mqtt__api_8c.html#a74e5d28c29840b62c9eeb5ba2ffe7a45" title="_core_mqtt_process\l_datalist_insert" alt="" coords="720,32,860,73"/>
<area shape="rect" id="node7" href="aiot__mqtt__api_8c.html#a8d70d3084d5232c7604171dd8e8f5ddd" title="_core_mqtt_process\l_datalist_remove" alt="" coords="720,97,860,139"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a16eeeca0e835116e83afa39be5cc2962"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t _mqtt_upload_parse_json </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structaiot__sysdep__portfile__t.html">aiot_sysdep_portfile_t</a> *&#160;</td>
          <td class="paramname"><em>sysdep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>input_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>key_word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a67b8c5b72a3761155e7aa9f04e4d3ad6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint8_t _mqtt_upload_block_size_is_valid </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>block_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>is_final</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="affade777fff2253139297b9cdfc12407"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _mqtt_upload_recv_response_process </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structaiot__mqtt__upload__recv__t.html">aiot_mqtt_upload_recv_t</a> *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">upload_file_task_handle_t *&#160;</td>
          <td class="paramname"><em>up_task</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="aiot__mqtt__upload__api_8c_affade777fff2253139297b9cdfc12407_cgraph.png" border="0" usemap="#aiot__mqtt__upload__api_8c_affade777fff2253139297b9cdfc12407_cgraph" alt=""/></div>
<map name="aiot__mqtt__upload__api_8c_affade777fff2253139297b9cdfc12407_cgraph" id="aiot__mqtt__upload__api_8c_affade777fff2253139297b9cdfc12407_cgraph">
<area shape="rect" id="node2" href="aiot__mqtt__upload__api_8c.html#af6b2e296e4bfa208b80f0600f0e2e09a" title="_mqtt_upload_resend_pub" alt="" coords="245,297,420,324"/>
<area shape="rect" id="node3" href="aiot__mqtt__upload__api_8c.html#aa6060172655fa6b62a6823bc7ddc69c2" title="_mqtt_upload_send_block_file" alt="" coords="468,348,665,375"/>
<area shape="rect" id="node23" href="aiot__mqtt__upload__api_8c.html#a67b8c5b72a3761155e7aa9f04e4d3ad6" title="_mqtt_upload_block\l_size_is_valid" alt="" coords="263,399,402,441"/>
<area shape="rect" id="node22" href="aiot__mqtt__upload__api_8c.html#acc4b50df5099bf2359b6aadc76346fb9" title="_mqtt_upload_send_request\l_cancel" alt="" coords="474,282,659,323"/>
<area shape="rect" id="node4" href="aiot__mqtt__upload__api_8c.html#aca9d23f551b6f3b535901a7d8dd862d3" title="_mqtt_upload_get_payload" alt="" coords="715,247,893,273"/>
<area shape="rect" id="node5" href="aiot__mqtt__upload__api_8c.html#a09701778eeac4c298763385740e674be" title="_mqtt_upload_get_topic" alt="" coords="724,348,884,375"/>
<area shape="rect" id="node8" href="aiot__mqtt__upload__api_8c.html#a4a83a990f226923af271d5b031b82a11" title="_mqtt_upload_data_encode\l_package" alt="" coords="713,421,895,462"/>
<area shape="rect" id="node10" href="aiot__mqtt__api_8c.html#a207164cfd12422eb36a48624a1c31db8" title="发送一条PUBLISH报文到MQTT服务器, QoS为0, 用于发布指定的消息 " alt="" coords="752,297,856,324"/>
<area shape="rect" id="node6" href="aiot__mqtt__api_8c.html#a3aefc6194663f3db0d614840ffaffb9a" title="core_mqtt_get_product_key" alt="" coords="946,348,1129,375"/>
<area shape="rect" id="node7" href="aiot__mqtt__api_8c.html#af71393abdcc0bfbc5a0ecafb75a7b4c4" title="core_mqtt_get_device_name" alt="" coords="943,399,1132,425"/>
<area shape="rect" id="node9" href="aiot__mqtt__upload__api_8c.html#a04e5cf4d4d3f512c8a27e9aa13923b07" title="crc_ibm" alt="" coords="1003,449,1071,476"/>
<area shape="rect" id="node11" href="aiot__mqtt__api_8c.html#aa2537b0027caddef380ce7b937af59f7" title="_core_mqtt_pub_params\l_check" alt="" coords="955,231,1120,273"/>
<area shape="rect" id="node12" href="aiot__mqtt__api_8c.html#a7f699157e4a591241ad1a894918ee01a" title="_core_mqtt_pub_prepare" alt="" coords="955,297,1120,324"/>
<area shape="rect" id="node13" href="aiot__mqtt__api_8c.html#afdecdf08db75dc62d6cc9dd4a22ff1d6" title="_core_mqtt_pub" alt="" coords="980,180,1095,207"/>
<area shape="rect" id="node14" href="aiot__mqtt__api_8c.html#a5b01b201adad995c05fec1f82a356975" title="_core_mqtt_exec_inc" alt="" coords="1185,5,1332,32"/>
<area shape="rect" id="node15" href="aiot__mqtt__api_8c.html#afb769532cc8c423e79d5f8843ea6fab0" title="_core_mqtt_exec_dec" alt="" coords="1183,56,1334,83"/>
<area shape="rect" id="node16" href="aiot__mqtt__api_8c.html#a65111a875792262ea2566bbbab350e61" title="_core_mqtt_remain_len\l_encode" alt="" coords="1180,107,1337,149"/>
<area shape="rect" id="node17" href="aiot__mqtt__api_8c.html#ab57f5851072d495daaa6c945000d192f" title="_core_mqtt_set_utf8\l_encoded_str" alt="" coords="1188,173,1329,214"/>
<area shape="rect" id="node18" href="aiot__mqtt__api_8c.html#a541cad09a05feb91ff78eb23da4ef364" title="_core_mqtt_packet_id" alt="" coords="1183,239,1334,265"/>
<area shape="rect" id="node19" href="aiot__mqtt__api_8c.html#ac8fbdef0975e187b70f30d5b2f887a46" title="_core_mqtt_publist\l_insert" alt="" coords="1193,290,1325,331"/>
<area shape="rect" id="node20" href="aiot__mqtt__api_8c.html#a589202977e7a0f8a467d51c021813ba5" title="_core_mqtt_write" alt="" coords="1197,356,1320,383"/>
<area shape="rect" id="node21" href="aiot__mqtt__api_8c.html#af4f048a7481d88c228bdcb55aa33c7a2" title="_core_mqtt_sysdep_return" alt="" coords="1385,356,1561,383"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a50aec7c9facd1f399a80131fdedc8846"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _mqtt_upload_desc_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structaiot__sysdep__portfile__t.html">aiot_sysdep_portfile_t</a> *&#160;</td>
          <td class="paramname"><em>sysdep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structaiot__mqtt__upload__recv__t.html">aiot_mqtt_upload_recv_t</a> *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2a325c931293f27d4eba4b0d5ca35cd6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _mqtt_upload_desc_new </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structaiot__sysdep__portfile__t.html">aiot_sysdep_portfile_t</a> *&#160;</td>
          <td class="paramname"><em>sysdep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structaiot__mqtt__upload__recv__t.html">aiot_mqtt_upload_recv_t</a> *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structaiot__mqtt__upload__recv__t.html">aiot_mqtt_upload_recv_t</a> *&#160;</td>
          <td class="paramname"><em>out_packet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="aiot__mqtt__upload__api_8c_a2a325c931293f27d4eba4b0d5ca35cd6_cgraph.png" border="0" usemap="#aiot__mqtt__upload__api_8c_a2a325c931293f27d4eba4b0d5ca35cd6_cgraph" alt=""/></div>
<map name="aiot__mqtt__upload__api_8c_a2a325c931293f27d4eba4b0d5ca35cd6_cgraph" id="aiot__mqtt__upload__api_8c_a2a325c931293f27d4eba4b0d5ca35cd6_cgraph">
<area shape="rect" id="node2" href="aiot__mqtt__upload__api_8c.html#a4c5240b88aadbb618da80fcef3e0cc7a" title="_mqtt_upload_creat\l_string_malloc" alt="" coords="220,5,356,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae9d04e14784a684635c601fe7a94a8e1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _mqtt_upload_desc_copy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structaiot__sysdep__portfile__t.html">aiot_sysdep_portfile_t</a> *&#160;</td>
          <td class="paramname"><em>sysdep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structaiot__mqtt__upload__recv__t.html">aiot_mqtt_upload_recv_t</a> *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structaiot__mqtt__upload__recv__t.html">aiot_mqtt_upload_recv_t</a> *&#160;</td>
          <td class="paramname"><em>out_packet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a003026d7d6a3f03bb54c6327783fb551"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t _mqtt_upload_subscribe </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>mqtt_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mqtt_upload_handle_t *&#160;</td>
          <td class="paramname"><em>up_handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="aiot__mqtt__upload__api_8c_a003026d7d6a3f03bb54c6327783fb551_cgraph.png" border="0" usemap="#aiot__mqtt__upload__api_8c_a003026d7d6a3f03bb54c6327783fb551_cgraph" alt=""/></div>
<map name="aiot__mqtt__upload__api_8c_a003026d7d6a3f03bb54c6327783fb551_cgraph" id="aiot__mqtt__upload__api_8c_a003026d7d6a3f03bb54c6327783fb551_cgraph">
<area shape="rect" id="node2" href="aiot__mqtt__api_8c.html#a3aefc6194663f3db0d614840ffaffb9a" title="core_mqtt_get_product_key" alt="" coords="219,29,402,55"/>
<area shape="rect" id="node3" href="aiot__mqtt__api_8c.html#af71393abdcc0bfbc5a0ecafb75a7b4c4" title="core_mqtt_get_device_name" alt="" coords="216,79,405,106"/>
<area shape="rect" id="node4" href="aiot__mqtt__api_8c.html#a822e6905d3954106fc1a074748a20b7b" title="发送一条mqtt SUBSCRIBE报文到MQTT服务器, 用于订阅指定的topic " alt="" coords="259,130,363,157"/>
<area shape="rect" id="node5" href="aiot__mqtt__api_8c.html#a9db5147279af8b87846bd35462cf1229" title="_core_mqtt_sub" alt="" coords="453,130,568,157"/>
<area shape="rect" id="node6" href="aiot__mqtt__api_8c.html#a6d574f84d8cf56f8f9e95650d74d1570" title="_core_mqtt_topic_is\l_valid" alt="" coords="622,5,761,47"/>
<area shape="rect" id="node7" href="aiot__mqtt__api_8c.html#a5b01b201adad995c05fec1f82a356975" title="_core_mqtt_exec_inc" alt="" coords="618,71,765,98"/>
<area shape="rect" id="node8" href="aiot__mqtt__api_8c.html#a817132f1450e9f52b47aa341f660f0c6" title="_core_mqtt_sublist\l_insert" alt="" coords="625,123,757,164"/>
<area shape="rect" id="node10" href="aiot__mqtt__api_8c.html#afe668b75616d0c2fabc57c7e5f89967c" title="_core_mqtt_subunsub" alt="" coords="616,189,767,215"/>
<area shape="rect" id="node15" href="aiot__mqtt__api_8c.html#afb769532cc8c423e79d5f8843ea6fab0" title="_core_mqtt_exec_dec" alt="" coords="616,239,767,266"/>
<area shape="rect" id="node9" href="aiot__mqtt__api_8c.html#a83e2def6390b763304d1646ae78f5237" title="_core_mqtt_handlerlist\l_insert" alt="" coords="817,87,970,128"/>
<area shape="rect" id="node11" href="aiot__mqtt__api_8c.html#a65111a875792262ea2566bbbab350e61" title="_core_mqtt_remain_len\l_encode" alt="" coords="815,152,972,193"/>
<area shape="rect" id="node12" href="aiot__mqtt__api_8c.html#a541cad09a05feb91ff78eb23da4ef364" title="_core_mqtt_packet_id" alt="" coords="818,218,969,245"/>
<area shape="rect" id="node13" href="aiot__mqtt__api_8c.html#a589202977e7a0f8a467d51c021813ba5" title="_core_mqtt_write" alt="" coords="832,269,955,295"/>
<area shape="rect" id="node14" href="aiot__mqtt__api_8c.html#af4f048a7481d88c228bdcb55aa33c7a2" title="_core_mqtt_sysdep_return" alt="" coords="1020,269,1196,295"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a58b2bb18f599cbae343c8c94657806bb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t _mqtt_upload_unsubscribe </td>
          <td>(</td>
          <td class="paramtype">mqtt_upload_handle_t *&#160;</td>
          <td class="paramname"><em>up_handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="aiot__mqtt__upload__api_8c_a58b2bb18f599cbae343c8c94657806bb_cgraph.png" border="0" usemap="#aiot__mqtt__upload__api_8c_a58b2bb18f599cbae343c8c94657806bb_cgraph" alt=""/></div>
<map name="aiot__mqtt__upload__api_8c_a58b2bb18f599cbae343c8c94657806bb_cgraph" id="aiot__mqtt__upload__api_8c_a58b2bb18f599cbae343c8c94657806bb_cgraph">
<area shape="rect" id="node2" href="aiot__mqtt__api_8c.html#a3aefc6194663f3db0d614840ffaffb9a" title="core_mqtt_get_product_key" alt="" coords="234,29,417,55"/>
<area shape="rect" id="node3" href="aiot__mqtt__api_8c.html#af71393abdcc0bfbc5a0ecafb75a7b4c4" title="core_mqtt_get_device_name" alt="" coords="231,79,420,106"/>
<area shape="rect" id="node4" href="aiot__mqtt__api_8c.html#ac5bf829313794c8532eeafa84956e4da" title="发送一条mqtt UNSUBSCRIBE报文到MQTT服务器, 用于取消订阅指定的topic " alt="" coords="266,130,385,157"/>
<area shape="rect" id="node5" href="aiot__mqtt__api_8c.html#ac3e17e60da5d53ec67d18d6e6ef9f225" title="_core_mqtt_unsub" alt="" coords="468,130,597,157"/>
<area shape="rect" id="node6" href="aiot__mqtt__api_8c.html#a6d574f84d8cf56f8f9e95650d74d1570" title="_core_mqtt_topic_is\l_valid" alt="" coords="651,5,790,47"/>
<area shape="rect" id="node7" href="aiot__mqtt__api_8c.html#a5b01b201adad995c05fec1f82a356975" title="_core_mqtt_exec_inc" alt="" coords="647,71,794,98"/>
<area shape="rect" id="node8" href="aiot__mqtt__api_8c.html#aa89de609d4ede93b6c37f1b2dd76ac30" title="_core_mqtt_sublist\l_remove" alt="" coords="655,123,787,164"/>
<area shape="rect" id="node10" href="aiot__mqtt__api_8c.html#afe668b75616d0c2fabc57c7e5f89967c" title="_core_mqtt_subunsub" alt="" coords="645,189,796,215"/>
<area shape="rect" id="node15" href="aiot__mqtt__api_8c.html#afb769532cc8c423e79d5f8843ea6fab0" title="_core_mqtt_exec_dec" alt="" coords="645,239,796,266"/>
<area shape="rect" id="node9" href="aiot__mqtt__api_8c.html#aefb65662d681409d6c74c73f599cbc9d" title="_core_mqtt_sublist\l_handlerlist_destroy" alt="" coords="853,87,992,128"/>
<area shape="rect" id="node11" href="aiot__mqtt__api_8c.html#a65111a875792262ea2566bbbab350e61" title="_core_mqtt_remain_len\l_encode" alt="" coords="844,152,1001,193"/>
<area shape="rect" id="node12" href="aiot__mqtt__api_8c.html#a541cad09a05feb91ff78eb23da4ef364" title="_core_mqtt_packet_id" alt="" coords="847,218,998,245"/>
<area shape="rect" id="node13" href="aiot__mqtt__api_8c.html#a589202977e7a0f8a467d51c021813ba5" title="_core_mqtt_write" alt="" coords="861,269,984,295"/>
<area shape="rect" id="node14" href="aiot__mqtt__api_8c.html#af4f048a7481d88c228bdcb55aa33c7a2" title="_core_mqtt_sysdep_return" alt="" coords="1049,269,1225,295"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="add266c2c6c301539797b59993192c98c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* aiot_mqtt_upload_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>创建MQTT UPLOAD会话实例, 并以默认值配置会话参数 </p>
<dl class="section return"><dt>返回</dt><dd>void * </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">非NULL,返回mqtt_upload_handle_t实例的句柄</td><td></td></tr>
    <tr><td class="paramname">NULL</td><td>初始化失败, 一般是内存分配失败导致 </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="aiot__mqtt__upload__api_8c_add266c2c6c301539797b59993192c98c_cgraph.png" border="0" usemap="#aiot__mqtt__upload__api_8c_add266c2c6c301539797b59993192c98c_cgraph" alt=""/></div>
<map name="aiot__mqtt__upload__api_8c_add266c2c6c301539797b59993192c98c_cgraph" id="aiot__mqtt__upload__api_8c_add266c2c6c301539797b59993192c98c_cgraph">
<area shape="rect" id="node2" href="aiot__sysdep__api_8h.html#a1e5864627eedf7b3f23213b616f7e365" title="aiot_sysdep_get_portfile" alt="" coords="199,5,361,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a94820842ad6a3c3beabd63bb7b1bd477"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t aiot_mqtt_upload_deinit </td>
          <td>(</td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>结束MQTT UPLOAD会话, 销毁实例并回收资源 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>指向MQTT UPLOAD会话句柄的指针</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>int32_t </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&lt;STATE_SUCCESS</td><td>执行失败 </td></tr>
    <tr><td class="paramname">&gt;=STATE_SUCCESS</td><td>执行成功 </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="aiot__mqtt__upload__api_8c_a94820842ad6a3c3beabd63bb7b1bd477_cgraph.png" border="0" usemap="#aiot__mqtt__upload__api_8c_a94820842ad6a3c3beabd63bb7b1bd477_cgraph" alt=""/></div>
<map name="aiot__mqtt__upload__api_8c_a94820842ad6a3c3beabd63bb7b1bd477_cgraph" id="aiot__mqtt__upload__api_8c_a94820842ad6a3c3beabd63bb7b1bd477_cgraph">
<area shape="rect" id="node2" href="aiot__mqtt__upload__api_8c.html#ac7b61ea00b02a4cafc5a4433763cd8f7" title="_mqtt_upload_filelist\l_destroy" alt="" coords="230,18,371,59"/>
<area shape="rect" id="node5" href="aiot__mqtt__upload__api_8c.html#a58b2bb18f599cbae343c8c94657806bb" title="_mqtt_upload_unsubscribe" alt="" coords="212,105,389,132"/>
<area shape="rect" id="node20" href="aiot__mqtt__upload__api_8c.html#a7bf5609b71279050a7f51be554afa6c6" title="_mqtt_upload_core_mqtt\l_process_handler" alt="" coords="218,157,383,198"/>
<area shape="rect" id="node21" href="aiot__mqtt__api_8c.html#a6b62ed693cf62c57cb64dd216de38d9a" title="core_mqtt_setopt" alt="" coords="239,223,362,249"/>
<area shape="rect" id="node3" href="aiot__mqtt__upload__api_8c.html#a8da850b3a69b983b313e6563c51f09e0" title="_mqtt_upload_up_task_free" alt="" coords="457,5,640,32"/>
<area shape="rect" id="node4" href="aiot__mqtt__upload__api_8c.html#a50aec7c9facd1f399a80131fdedc8846" title="_mqtt_upload_desc_free" alt="" coords="708,5,872,32"/>
<area shape="rect" id="node6" href="aiot__mqtt__api_8c.html#a3aefc6194663f3db0d614840ffaffb9a" title="core_mqtt_get_product_key" alt="" coords="457,56,640,83"/>
<area shape="rect" id="node7" href="aiot__mqtt__api_8c.html#af71393abdcc0bfbc5a0ecafb75a7b4c4" title="core_mqtt_get_device_name" alt="" coords="454,107,643,133"/>
<area shape="rect" id="node8" href="aiot__mqtt__api_8c.html#ac5bf829313794c8532eeafa84956e4da" title="发送一条mqtt UNSUBSCRIBE报文到MQTT服务器, 用于取消订阅指定的topic " alt="" coords="489,157,608,184"/>
<area shape="rect" id="node9" href="aiot__mqtt__api_8c.html#ac3e17e60da5d53ec67d18d6e6ef9f225" title="_core_mqtt_unsub" alt="" coords="725,157,855,184"/>
<area shape="rect" id="node10" href="aiot__mqtt__api_8c.html#a6d574f84d8cf56f8f9e95650d74d1570" title="_core_mqtt_topic_is\l_valid" alt="" coords="926,33,1065,74"/>
<area shape="rect" id="node11" href="aiot__mqtt__api_8c.html#a5b01b201adad995c05fec1f82a356975" title="_core_mqtt_exec_inc" alt="" coords="922,99,1069,125"/>
<area shape="rect" id="node12" href="aiot__mqtt__api_8c.html#aa89de609d4ede93b6c37f1b2dd76ac30" title="_core_mqtt_sublist\l_remove" alt="" coords="929,150,1061,191"/>
<area shape="rect" id="node14" href="aiot__mqtt__api_8c.html#afe668b75616d0c2fabc57c7e5f89967c" title="_core_mqtt_subunsub" alt="" coords="920,216,1071,243"/>
<area shape="rect" id="node19" href="aiot__mqtt__api_8c.html#afb769532cc8c423e79d5f8843ea6fab0" title="_core_mqtt_exec_dec" alt="" coords="920,267,1071,293"/>
<area shape="rect" id="node13" href="aiot__mqtt__api_8c.html#aefb65662d681409d6c74c73f599cbc9d" title="_core_mqtt_sublist\l_handlerlist_destroy" alt="" coords="1128,114,1267,155"/>
<area shape="rect" id="node15" href="aiot__mqtt__api_8c.html#a65111a875792262ea2566bbbab350e61" title="_core_mqtt_remain_len\l_encode" alt="" coords="1119,179,1276,221"/>
<area shape="rect" id="node16" href="aiot__mqtt__api_8c.html#a541cad09a05feb91ff78eb23da4ef364" title="_core_mqtt_packet_id" alt="" coords="1122,245,1273,272"/>
<area shape="rect" id="node17" href="aiot__mqtt__api_8c.html#a589202977e7a0f8a467d51c021813ba5" title="_core_mqtt_write" alt="" coords="1136,296,1259,323"/>
<area shape="rect" id="node18" href="aiot__mqtt__api_8c.html#af4f048a7481d88c228bdcb55aa33c7a2" title="_core_mqtt_sysdep_return" alt="" coords="1324,296,1500,323"/>
<area shape="rect" id="node22" href="aiot__mqtt__api_8c.html#a885a4308d8c2d140ebcb54af831dbb40" title="_core_mqtt_append_process_data" alt="" coords="438,221,659,248"/>
<area shape="rect" id="node24" href="aiot__mqtt__api_8c.html#ad74092a7f15163ad5a2ee1fdcda6aa0f" title="_core_mqtt_remove_process_data" alt="" coords="437,277,660,304"/>
<area shape="rect" id="node23" href="aiot__mqtt__api_8c.html#a74e5d28c29840b62c9eeb5ba2ffe7a45" title="_core_mqtt_process\l_datalist_insert" alt="" coords="720,210,860,251"/>
<area shape="rect" id="node25" href="aiot__mqtt__api_8c.html#a8d70d3084d5232c7604171dd8e8f5ddd" title="_core_mqtt_process\l_datalist_remove" alt="" coords="720,275,860,317"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afa1d5128a2497ad28f33bea7e7672127"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _upload_get_crc64_hexstr </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>digest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>crc64_str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae59e86941b64e4dc7406c6dd34c12b76"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int _json_push </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>top</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a03b84ca1ece78e23da0d775b4752fc95"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int _json_pop </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>top</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aafdaf32d86fa90da3279fb9b5d33a480"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int _json_reject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structaiot__sysdep__portfile__t.html">aiot_sysdep_portfile_t</a> *&#160;</td>
          <td class="paramname"><em>sysdep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>in</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aff555bca9fc8f66247839ad436dc8806"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _json_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structaiot__sysdep__portfile__t.html">aiot_sysdep_portfile_t</a> *&#160;</td>
          <td class="paramname"><em>sysdep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>in</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a46ef61dca249e09b9666882d60dbea24"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t _upload_extra_params_is_json </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structaiot__sysdep__portfile__t.html">aiot_sysdep_portfile_t</a> *&#160;</td>
          <td class="paramname"><em>sysdep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>input_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="aiot__mqtt__upload__api_8c_a46ef61dca249e09b9666882d60dbea24_cgraph.png" border="0" usemap="#aiot__mqtt__upload__api_8c_a46ef61dca249e09b9666882d60dbea24_cgraph" alt=""/></div>
<map name="aiot__mqtt__upload__api_8c_a46ef61dca249e09b9666882d60dbea24_cgraph" id="aiot__mqtt__upload__api_8c_a46ef61dca249e09b9666882d60dbea24_cgraph">
<area shape="rect" id="node2" href="aiot__mqtt__upload__api_8c.html#a03b84ca1ece78e23da0d775b4752fc95" title="_json_pop" alt="" coords="217,5,299,32"/>
<area shape="rect" id="node3" href="aiot__mqtt__upload__api_8c.html#aafdaf32d86fa90da3279fb9b5d33a480" title="_json_reject" alt="" coords="212,56,304,83"/>
<area shape="rect" id="node4" href="aiot__mqtt__upload__api_8c.html#ae59e86941b64e4dc7406c6dd34c12b76" title="_json_push" alt="" coords="214,107,302,133"/>
<area shape="rect" id="node5" href="aiot__mqtt__upload__api_8c.html#aff555bca9fc8f66247839ad436dc8806" title="_json_destroy" alt="" coords="207,157,309,184"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aedb3e57f1adfb4e65b81db5a81406020"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t aiot_mqtt_upload_setopt </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="aiot__mqtt__upload__api_8h.html#a11ec5d9420f091c6c3a8fbb485f8ff82">aiot_mqtt_upload_option_t</a>&#160;</td>
          <td class="paramname"><em>option</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>配置MQTT UPLOAD会话 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>MQTT UPLOAD会话句柄 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">option</td><td>配置选项, 更多信息请参考 <a class="el" href="aiot__mqtt__upload__api_8h.html#a11ec5d9420f091c6c3a8fbb485f8ff82">aiot_mqtt_upload_option_t</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>配置选项数据, 更多信息请参考 <a class="el" href="aiot__mqtt__upload__api_8h.html#a11ec5d9420f091c6c3a8fbb485f8ff82">aiot_mqtt_upload_option_t</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>int32_t </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">STATE_SUCCESS</td><td>参数配置成功 </td></tr>
    <tr><td class="paramname">STATE_USER_INPUT_NULL_POINTER</td><td>入参handle或data为NULL </td></tr>
    <tr><td class="paramname">STATE_USER_INPUT_OUT_RANGE</td><td>入参optioin的枚举值&gt;=AIOT_DMOPT_MAX </td></tr>
    <tr><td class="paramname">others</td><td>参考 <a class="el" href="aiot__state__api_8h.html">aiot_state_api.h</a> </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="aiot__mqtt__upload__api_8c_aedb3e57f1adfb4e65b81db5a81406020_cgraph.png" border="0" usemap="#aiot__mqtt__upload__api_8c_aedb3e57f1adfb4e65b81db5a81406020_cgraph" alt=""/></div>
<map name="aiot__mqtt__upload__api_8c_aedb3e57f1adfb4e65b81db5a81406020_cgraph" id="aiot__mqtt__upload__api_8c_aedb3e57f1adfb4e65b81db5a81406020_cgraph">
<area shape="rect" id="node2" href="aiot__mqtt__upload__api_8c.html#a003026d7d6a3f03bb54c6327783fb551" title="_mqtt_upload_subscribe" alt="" coords="227,130,390,157"/>
<area shape="rect" id="node17" href="aiot__mqtt__upload__api_8c.html#a88fc29ef0f006197013ba030d62c7282" title="_mqtt_upload_mqtt_operate\l_process_handler" alt="" coords="217,261,400,303"/>
<area shape="rect" id="node24" href="aiot__mqtt__upload__api_8c.html#a67b8c5b72a3761155e7aa9f04e4d3ad6" title="_mqtt_upload_block\l_size_is_valid" alt="" coords="239,327,378,368"/>
<area shape="rect" id="node25" href="aiot__mqtt__upload__api_8c.html#a46ef61dca249e09b9666882d60dbea24" title="_upload_extra_params\l_is_json" alt="" coords="232,392,385,433"/>
<area shape="rect" id="node30" href="aiot__mqtt__upload__api_8c.html#a7934286775ec56e2cac6ec5e25501680" title="_mqtt_upload_get_uuid" alt="" coords="231,458,387,485"/>
<area shape="rect" id="node31" href="aiot__mqtt__upload__api_8c.html#afa1d5128a2497ad28f33bea7e7672127" title="_upload_get_crc64_hexstr" alt="" coords="221,509,396,535"/>
<area shape="rect" id="node32" href="aiot__mqtt__upload__api_8c.html#a51677424f704cb21e228b3b7be2a5438" title="_mqtt_upload_file_task_init" alt="" coords="219,559,399,586"/>
<area shape="rect" id="node34" href="aiot__mqtt__upload__api_8c.html#a5cfe2b0f95f965aaf20c4bc8cb1f21b2" title="_mqtt_upload_filelist\l_insert" alt="" coords="238,611,379,652"/>
<area shape="rect" id="node3" href="aiot__mqtt__api_8c.html#a3aefc6194663f3db0d614840ffaffb9a" title="core_mqtt_get_product_key" alt="" coords="451,54,634,81"/>
<area shape="rect" id="node4" href="aiot__mqtt__api_8c.html#af71393abdcc0bfbc5a0ecafb75a7b4c4" title="core_mqtt_get_device_name" alt="" coords="448,105,637,131"/>
<area shape="rect" id="node5" href="aiot__mqtt__api_8c.html#a822e6905d3954106fc1a074748a20b7b" title="发送一条mqtt SUBSCRIBE报文到MQTT服务器, 用于订阅指定的topic " alt="" coords="491,155,595,182"/>
<area shape="rect" id="node6" href="aiot__mqtt__api_8c.html#a9db5147279af8b87846bd35462cf1229" title="_core_mqtt_sub" alt="" coords="739,143,854,170"/>
<area shape="rect" id="node7" href="aiot__mqtt__api_8c.html#a6d574f84d8cf56f8f9e95650d74d1570" title="_core_mqtt_topic_is\l_valid" alt="" coords="962,5,1101,47"/>
<area shape="rect" id="node8" href="aiot__mqtt__api_8c.html#a5b01b201adad995c05fec1f82a356975" title="_core_mqtt_exec_inc" alt="" coords="958,71,1105,98"/>
<area shape="rect" id="node9" href="aiot__mqtt__api_8c.html#a817132f1450e9f52b47aa341f660f0c6" title="_core_mqtt_sublist\l_insert" alt="" coords="965,123,1097,164"/>
<area shape="rect" id="node11" href="aiot__mqtt__api_8c.html#afe668b75616d0c2fabc57c7e5f89967c" title="_core_mqtt_subunsub" alt="" coords="956,189,1107,215"/>
<area shape="rect" id="node16" href="aiot__mqtt__api_8c.html#afb769532cc8c423e79d5f8843ea6fab0" title="_core_mqtt_exec_dec" alt="" coords="956,239,1107,266"/>
<area shape="rect" id="node10" href="aiot__mqtt__api_8c.html#a83e2def6390b763304d1646ae78f5237" title="_core_mqtt_handlerlist\l_insert" alt="" coords="1157,87,1310,128"/>
<area shape="rect" id="node12" href="aiot__mqtt__api_8c.html#a65111a875792262ea2566bbbab350e61" title="_core_mqtt_remain_len\l_encode" alt="" coords="1155,152,1312,193"/>
<area shape="rect" id="node13" href="aiot__mqtt__api_8c.html#a541cad09a05feb91ff78eb23da4ef364" title="_core_mqtt_packet_id" alt="" coords="1158,218,1309,245"/>
<area shape="rect" id="node14" href="aiot__mqtt__api_8c.html#a589202977e7a0f8a467d51c021813ba5" title="_core_mqtt_write" alt="" coords="1172,269,1295,295"/>
<area shape="rect" id="node15" href="aiot__mqtt__api_8c.html#af4f048a7481d88c228bdcb55aa33c7a2" title="_core_mqtt_sysdep_return" alt="" coords="1360,269,1536,295"/>
<area shape="rect" id="node18" href="aiot__mqtt__upload__api_8c.html#a7bf5609b71279050a7f51be554afa6c6" title="_mqtt_upload_core_mqtt\l_process_handler" alt="" coords="460,232,625,273"/>
<area shape="rect" id="node19" href="aiot__mqtt__api_8c.html#a6b62ed693cf62c57cb64dd216de38d9a" title="core_mqtt_setopt" alt="" coords="481,298,604,325"/>
<area shape="rect" id="node20" href="aiot__mqtt__api_8c.html#a885a4308d8c2d140ebcb54af831dbb40" title="_core_mqtt_append_process_data" alt="" coords="686,298,907,325"/>
<area shape="rect" id="node22" href="aiot__mqtt__api_8c.html#ad74092a7f15163ad5a2ee1fdcda6aa0f" title="_core_mqtt_remove_process_data" alt="" coords="685,357,908,383"/>
<area shape="rect" id="node21" href="aiot__mqtt__api_8c.html#a74e5d28c29840b62c9eeb5ba2ffe7a45" title="_core_mqtt_process\l_datalist_insert" alt="" coords="961,291,1101,332"/>
<area shape="rect" id="node23" href="aiot__mqtt__api_8c.html#a8d70d3084d5232c7604171dd8e8f5ddd" title="_core_mqtt_process\l_datalist_remove" alt="" coords="961,356,1101,397"/>
<area shape="rect" id="node26" href="aiot__mqtt__upload__api_8c.html#a03b84ca1ece78e23da0d775b4752fc95" title="_json_pop" alt="" coords="502,349,583,375"/>
<area shape="rect" id="node27" href="aiot__mqtt__upload__api_8c.html#aafdaf32d86fa90da3279fb9b5d33a480" title="_json_reject" alt="" coords="497,399,589,426"/>
<area shape="rect" id="node28" href="aiot__mqtt__upload__api_8c.html#ae59e86941b64e4dc7406c6dd34c12b76" title="_json_push" alt="" coords="499,450,587,477"/>
<area shape="rect" id="node29" href="aiot__mqtt__upload__api_8c.html#aff555bca9fc8f66247839ad436dc8806" title="_json_destroy" alt="" coords="491,501,594,527"/>
<area shape="rect" id="node33" href="aiot__mqtt__upload__api_8c.html#a4c5240b88aadbb618da80fcef3e0cc7a" title="_mqtt_upload_creat\l_string_malloc" alt="" coords="475,552,611,593"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aaf3736bb5928d82eb33d574307680e16"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t aiot_mqtt_upload_open_stream </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structaiot__mqtt__upload__recv__t.html">aiot_mqtt_upload_recv_t</a> *&#160;</td>
          <td class="paramname"><em>packet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>向MQTT UPLOAD 服务请求发送文件 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>MQTT UPLOAD会话句柄 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">file_name</td><td>需要在服务端创建的文件名 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">file_size</td><td>需要上传的文件大小 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>同名的文件的处理策略, 更多信息请参考 <a class="el" href="aiot__mqtt__upload__api_8h.html#a407c9968b09d7de3d879f1a2e8c08691">AIOT_MQTT_UPLOAD_FILE_MODE_OVERWRITE</a> <a class="el" href="aiot__mqtt__upload__api_8h.html#ae5472e39f27df59edd0a98dbd3afc05d">AIOT_MQTT_UPLOAD_FILE_MODE_APPEND</a> <a class="el" href="aiot__mqtt__upload__api_8h.html#ae3fc03dd58c4b1cea76f833901f41d49">AIOT_MQTT_UPLOAD_FILE_MODE_FAIL</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">digest</td><td>文件完整的CRC64，不需要完整性校验则为NULL </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">read_data_handler</td><td>读取用户文件数据的回调函数, 更多信息请参考 <a class="el" href="aiot__mqtt__upload__api_8h.html#ad44f365cd3717a61f96594933034281d">aiot_mqtt_upload_read_handler_t</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">userdata</td><td>用户上下文</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>int32_t </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&lt;STATE_SUCCESS</td><td>请求发送失败 </td></tr>
    <tr><td class="paramname">&gt;=STATE_SUCCESS</td><td>请求发送成功 </td></tr>
    <tr><td class="paramname">others</td><td>参考<a class="el" href="aiot__state__api_8h.html">aiot_state_api.h</a> 或<a class="el" href="aiot__mqtt__upload__api_8h.html#a40184975ba765d772cfbdbec2f1fefc8">STATE_MQTT_UPLOAD_BASE</a> 中对应的错误码说明 </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="aiot__mqtt__upload__api_8c_aaf3736bb5928d82eb33d574307680e16_cgraph.png" border="0" usemap="#aiot__mqtt__upload__api_8c_aaf3736bb5928d82eb33d574307680e16_cgraph" alt=""/></div>
<map name="aiot__mqtt__upload__api_8c_aaf3736bb5928d82eb33d574307680e16_cgraph" id="aiot__mqtt__upload__api_8c_aaf3736bb5928d82eb33d574307680e16_cgraph">
<area shape="rect" id="node2" href="aiot__mqtt__upload__api_8c.html#ac94f789f5c185a768b1cd72c958830d3" title="_mqtt_upload_send_request_init" alt="" coords="209,56,419,83"/>
<area shape="rect" id="node19" href="aiot__mqtt__upload__api_8c.html#ae9d04e14784a684635c601fe7a94a8e1" title="_mqtt_upload_desc_copy" alt="" coords="229,107,399,133"/>
<area shape="rect" id="node3" href="aiot__mqtt__upload__api_8c.html#aca9d23f551b6f3b535901a7d8dd862d3" title="_mqtt_upload_get_payload" alt="" coords="467,5,644,32"/>
<area shape="rect" id="node4" href="aiot__mqtt__upload__api_8c.html#a09701778eeac4c298763385740e674be" title="_mqtt_upload_get_topic" alt="" coords="475,56,635,83"/>
<area shape="rect" id="node7" href="aiot__mqtt__api_8c.html#a207164cfd12422eb36a48624a1c31db8" title="发送一条PUBLISH报文到MQTT服务器, QoS为0, 用于发布指定的消息 " alt="" coords="503,144,607,171"/>
<area shape="rect" id="node5" href="aiot__mqtt__api_8c.html#a3aefc6194663f3db0d614840ffaffb9a" title="core_mqtt_get_product_key" alt="" coords="695,5,878,32"/>
<area shape="rect" id="node6" href="aiot__mqtt__api_8c.html#af71393abdcc0bfbc5a0ecafb75a7b4c4" title="core_mqtt_get_device_name" alt="" coords="692,56,881,83"/>
<area shape="rect" id="node8" href="aiot__mqtt__api_8c.html#aa2537b0027caddef380ce7b937af59f7" title="_core_mqtt_pub_params\l_check" alt="" coords="704,107,869,149"/>
<area shape="rect" id="node9" href="aiot__mqtt__api_8c.html#a7f699157e4a591241ad1a894918ee01a" title="_core_mqtt_pub_prepare" alt="" coords="704,173,869,200"/>
<area shape="rect" id="node10" href="aiot__mqtt__api_8c.html#afdecdf08db75dc62d6cc9dd4a22ff1d6" title="_core_mqtt_pub" alt="" coords="729,224,844,251"/>
<area shape="rect" id="node11" href="aiot__mqtt__api_8c.html#a5b01b201adad995c05fec1f82a356975" title="_core_mqtt_exec_inc" alt="" coords="935,49,1081,76"/>
<area shape="rect" id="node12" href="aiot__mqtt__api_8c.html#afb769532cc8c423e79d5f8843ea6fab0" title="_core_mqtt_exec_dec" alt="" coords="933,100,1083,127"/>
<area shape="rect" id="node13" href="aiot__mqtt__api_8c.html#a65111a875792262ea2566bbbab350e61" title="_core_mqtt_remain_len\l_encode" alt="" coords="929,151,1087,193"/>
<area shape="rect" id="node14" href="aiot__mqtt__api_8c.html#ab57f5851072d495daaa6c945000d192f" title="_core_mqtt_set_utf8\l_encoded_str" alt="" coords="937,217,1079,258"/>
<area shape="rect" id="node15" href="aiot__mqtt__api_8c.html#a541cad09a05feb91ff78eb23da4ef364" title="_core_mqtt_packet_id" alt="" coords="933,283,1083,309"/>
<area shape="rect" id="node16" href="aiot__mqtt__api_8c.html#ac8fbdef0975e187b70f30d5b2f887a46" title="_core_mqtt_publist\l_insert" alt="" coords="942,334,1074,375"/>
<area shape="rect" id="node17" href="aiot__mqtt__api_8c.html#a589202977e7a0f8a467d51c021813ba5" title="_core_mqtt_write" alt="" coords="947,400,1069,427"/>
<area shape="rect" id="node18" href="aiot__mqtt__api_8c.html#af4f048a7481d88c228bdcb55aa33c7a2" title="_core_mqtt_sysdep_return" alt="" coords="1135,400,1311,427"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a206698b827890fcb7993956c9c3c2d94"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t aiot_mqtt_upload_cancel_stream </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>file_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>向mqtt_upload服务器请求关闭MQTT通道数据上传命令 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>MQTT UPLOAD会话句柄 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">file_name</td><td>需要取消继续上传的文件名</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>int32_t </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&lt;STATE_SUCCESS</td><td>请求发送失败 </td></tr>
    <tr><td class="paramname">&gt;=STATE_SUCCESS</td><td>请求发送成功 </td></tr>
    <tr><td class="paramname">others</td><td>参考<a class="el" href="aiot__state__api_8h.html">aiot_state_api.h</a> 或<a class="el" href="aiot__mqtt__upload__api_8h.html#a40184975ba765d772cfbdbec2f1fefc8">STATE_MQTT_UPLOAD_BASE</a> 中对应的错误码说明 </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="aiot__mqtt__upload__api_8c_a206698b827890fcb7993956c9c3c2d94_cgraph.png" border="0" usemap="#aiot__mqtt__upload__api_8c_a206698b827890fcb7993956c9c3c2d94_cgraph" alt=""/></div>
<map name="aiot__mqtt__upload__api_8c_a206698b827890fcb7993956c9c3c2d94_cgraph" id="aiot__mqtt__upload__api_8c_a206698b827890fcb7993956c9c3c2d94_cgraph">
<area shape="rect" id="node2" href="aiot__mqtt__upload__api_8c.html#a8da850b3a69b983b313e6563c51f09e0" title="_mqtt_upload_up_task_free" alt="" coords="221,16,404,43"/>
<area shape="rect" id="node4" href="aiot__mqtt__upload__api_8c.html#acc4b50df5099bf2359b6aadc76346fb9" title="_mqtt_upload_send_request\l_cancel" alt="" coords="220,89,405,130"/>
<area shape="rect" id="node3" href="aiot__mqtt__upload__api_8c.html#a50aec7c9facd1f399a80131fdedc8846" title="_mqtt_upload_desc_free" alt="" coords="460,5,624,32"/>
<area shape="rect" id="node5" href="aiot__mqtt__upload__api_8c.html#aca9d23f551b6f3b535901a7d8dd862d3" title="_mqtt_upload_get_payload" alt="" coords="453,56,631,83"/>
<area shape="rect" id="node6" href="aiot__mqtt__upload__api_8c.html#a09701778eeac4c298763385740e674be" title="_mqtt_upload_get_topic" alt="" coords="462,107,622,133"/>
<area shape="rect" id="node9" href="aiot__mqtt__api_8c.html#a207164cfd12422eb36a48624a1c31db8" title="发送一条PUBLISH报文到MQTT服务器, QoS为0, 用于发布指定的消息 " alt="" coords="490,195,594,221"/>
<area shape="rect" id="node7" href="aiot__mqtt__api_8c.html#a3aefc6194663f3db0d614840ffaffb9a" title="core_mqtt_get_product_key" alt="" coords="682,56,865,83"/>
<area shape="rect" id="node8" href="aiot__mqtt__api_8c.html#af71393abdcc0bfbc5a0ecafb75a7b4c4" title="core_mqtt_get_device_name" alt="" coords="679,107,868,133"/>
<area shape="rect" id="node10" href="aiot__mqtt__api_8c.html#aa2537b0027caddef380ce7b937af59f7" title="_core_mqtt_pub_params\l_check" alt="" coords="691,158,856,199"/>
<area shape="rect" id="node11" href="aiot__mqtt__api_8c.html#a7f699157e4a591241ad1a894918ee01a" title="_core_mqtt_pub_prepare" alt="" coords="691,224,856,251"/>
<area shape="rect" id="node12" href="aiot__mqtt__api_8c.html#afdecdf08db75dc62d6cc9dd4a22ff1d6" title="_core_mqtt_pub" alt="" coords="716,275,831,301"/>
<area shape="rect" id="node13" href="aiot__mqtt__api_8c.html#a5b01b201adad995c05fec1f82a356975" title="_core_mqtt_exec_inc" alt="" coords="921,100,1068,127"/>
<area shape="rect" id="node14" href="aiot__mqtt__api_8c.html#afb769532cc8c423e79d5f8843ea6fab0" title="_core_mqtt_exec_dec" alt="" coords="919,151,1070,177"/>
<area shape="rect" id="node15" href="aiot__mqtt__api_8c.html#a65111a875792262ea2566bbbab350e61" title="_core_mqtt_remain_len\l_encode" alt="" coords="916,202,1073,243"/>
<area shape="rect" id="node16" href="aiot__mqtt__api_8c.html#ab57f5851072d495daaa6c945000d192f" title="_core_mqtt_set_utf8\l_encoded_str" alt="" coords="924,267,1065,309"/>
<area shape="rect" id="node17" href="aiot__mqtt__api_8c.html#a541cad09a05feb91ff78eb23da4ef364" title="_core_mqtt_packet_id" alt="" coords="919,333,1070,360"/>
<area shape="rect" id="node18" href="aiot__mqtt__api_8c.html#ac8fbdef0975e187b70f30d5b2f887a46" title="_core_mqtt_publist\l_insert" alt="" coords="929,385,1061,426"/>
<area shape="rect" id="node19" href="aiot__mqtt__api_8c.html#a589202977e7a0f8a467d51c021813ba5" title="_core_mqtt_write" alt="" coords="933,451,1056,477"/>
<area shape="rect" id="node20" href="aiot__mqtt__api_8c.html#af4f048a7481d88c228bdcb55aa33c7a2" title="_core_mqtt_sysdep_return" alt="" coords="1121,451,1297,477"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aba7b5ec311b4ef5f2a7edec4b523978d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t aiot_mqtt_upload_send_data </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>datalen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>is_complete</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>MQTT Upload 数据发送接口，如果没有配置aiot_mqtt_upload_read_handler_t时，使用该接口发送数据 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>MQTT UPLOAD会话句柄 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">file_name</td><td>需要上传的文件名 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>需要上传的数据缓冲区 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">datalen</td><td>需要上传数据的长度 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">is_complete</td><td>数据是否上传完成,上传最后一包文件时需要设置为1,否则云端不会存储上传文件</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>int32_t </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&lt;STATE_SUCCESS</td><td>请求发送失败 </td></tr>
    <tr><td class="paramname">&gt;=STATE_SUCCESS</td><td>请求发送成功 </td></tr>
    <tr><td class="paramname">others</td><td>参考<a class="el" href="aiot__state__api_8h.html">aiot_state_api.h</a> 或<a class="el" href="aiot__mqtt__upload__api_8h.html#a40184975ba765d772cfbdbec2f1fefc8">STATE_MQTT_UPLOAD_BASE</a> 中对应的错误码说明 </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="aiot__mqtt__upload__api_8c_aba7b5ec311b4ef5f2a7edec4b523978d_cgraph.png" border="0" usemap="#aiot__mqtt__upload__api_8c_aba7b5ec311b4ef5f2a7edec4b523978d_cgraph" alt=""/></div>
<map name="aiot__mqtt__upload__api_8c_aba7b5ec311b4ef5f2a7edec4b523978d_cgraph" id="aiot__mqtt__upload__api_8c_aba7b5ec311b4ef5f2a7edec4b523978d_cgraph">
<area shape="rect" id="node2" href="aiot__mqtt__upload__api_8c.html#aa6060172655fa6b62a6823bc7ddc69c2" title="_mqtt_upload_send_block_file" alt="" coords="241,85,439,112"/>
<area shape="rect" id="node3" href="aiot__mqtt__upload__api_8c.html#aca9d23f551b6f3b535901a7d8dd862d3" title="_mqtt_upload_get_payload" alt="" coords="489,5,666,32"/>
<area shape="rect" id="node4" href="aiot__mqtt__upload__api_8c.html#a09701778eeac4c298763385740e674be" title="_mqtt_upload_get_topic" alt="" coords="497,56,657,83"/>
<area shape="rect" id="node7" href="aiot__mqtt__upload__api_8c.html#a4a83a990f226923af271d5b031b82a11" title="_mqtt_upload_data_encode\l_package" alt="" coords="487,107,668,149"/>
<area shape="rect" id="node9" href="aiot__mqtt__api_8c.html#a207164cfd12422eb36a48624a1c31db8" title="发送一条PUBLISH报文到MQTT服务器, QoS为0, 用于发布指定的消息 " alt="" coords="525,201,629,228"/>
<area shape="rect" id="node5" href="aiot__mqtt__api_8c.html#a3aefc6194663f3db0d614840ffaffb9a" title="core_mqtt_get_product_key" alt="" coords="719,7,902,33"/>
<area shape="rect" id="node6" href="aiot__mqtt__api_8c.html#af71393abdcc0bfbc5a0ecafb75a7b4c4" title="core_mqtt_get_device_name" alt="" coords="716,57,905,84"/>
<area shape="rect" id="node8" href="aiot__mqtt__upload__api_8c.html#a04e5cf4d4d3f512c8a27e9aa13923b07" title="crc_ibm" alt="" coords="777,112,845,139"/>
<area shape="rect" id="node10" href="aiot__mqtt__api_8c.html#aa2537b0027caddef380ce7b937af59f7" title="_core_mqtt_pub_params\l_check" alt="" coords="728,163,893,205"/>
<area shape="rect" id="node11" href="aiot__mqtt__api_8c.html#a7f699157e4a591241ad1a894918ee01a" title="_core_mqtt_pub_prepare" alt="" coords="728,229,893,256"/>
<area shape="rect" id="node12" href="aiot__mqtt__api_8c.html#afdecdf08db75dc62d6cc9dd4a22ff1d6" title="_core_mqtt_pub" alt="" coords="753,280,868,307"/>
<area shape="rect" id="node13" href="aiot__mqtt__api_8c.html#a5b01b201adad995c05fec1f82a356975" title="_core_mqtt_exec_inc" alt="" coords="959,105,1105,132"/>
<area shape="rect" id="node14" href="aiot__mqtt__api_8c.html#afb769532cc8c423e79d5f8843ea6fab0" title="_core_mqtt_exec_dec" alt="" coords="957,156,1107,183"/>
<area shape="rect" id="node15" href="aiot__mqtt__api_8c.html#a65111a875792262ea2566bbbab350e61" title="_core_mqtt_remain_len\l_encode" alt="" coords="953,207,1111,249"/>
<area shape="rect" id="node16" href="aiot__mqtt__api_8c.html#ab57f5851072d495daaa6c945000d192f" title="_core_mqtt_set_utf8\l_encoded_str" alt="" coords="961,273,1103,314"/>
<area shape="rect" id="node17" href="aiot__mqtt__api_8c.html#a541cad09a05feb91ff78eb23da4ef364" title="_core_mqtt_packet_id" alt="" coords="957,339,1107,365"/>
<area shape="rect" id="node18" href="aiot__mqtt__api_8c.html#ac8fbdef0975e187b70f30d5b2f887a46" title="_core_mqtt_publist\l_insert" alt="" coords="966,390,1098,431"/>
<area shape="rect" id="node19" href="aiot__mqtt__api_8c.html#a589202977e7a0f8a467d51c021813ba5" title="_core_mqtt_write" alt="" coords="971,456,1093,483"/>
<area shape="rect" id="node20" href="aiot__mqtt__api_8c.html#af4f048a7481d88c228bdcb55aa33c7a2" title="_core_mqtt_sysdep_return" alt="" coords="1159,456,1335,483"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a069d1bea8cb21e17f2a7de5715b93cf5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structaiot__mqtt__upload__result__t.html">aiot_mqtt_upload_result_t</a> aiot_mqtt_upload_process </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>MQTT Upload 处理函数,处理超时和重发逻辑，返回对应文件的执行的状态 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>MQTT UPLOAD 会话句柄</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><a class="el" href="structaiot__mqtt__upload__result__t.html" title="aiot_mqtt_upload_process 循环处理，返回对应文件的上传状态给到用户 ">aiot_mqtt_upload_result_t</a> 返回消息包括两个<em>status</em>, <em>file_name</em>; 更多信息请参考 <a class="el" href="structaiot__mqtt__upload__result__t.html">aiot_mqtt_upload_result_t</a> </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">STATE_MQTT_UPLOAD_NONE</td><td>无任何状态，未开始进行文件上传的处理 </td></tr>
    <tr><td class="paramname">STATE_MQTT_UPLOAD_REQUEST_INIT</td><td>请求服务端进行文件上传，等待服务端返回结果 </td></tr>
    <tr><td class="paramname">STATE_MQTT_UPLOAD_IS_UPLOADING</td><td>正在执行文件上传任务 </td></tr>
    <tr><td class="paramname">STATE_MQTT_UPLOAD_REQUEST_CANCEL</td><td>通知服务端取消文件上传 </td></tr>
    <tr><td class="paramname">STATE_MQTT_UPLOAD_CANCEL_SUCCESS</td><td>文件上传，取消上传任务成功，取消成功后会销毁对应的upload task释放内存资源 </td></tr>
    <tr><td class="paramname">STATE_MQTT_UPLOAD_CANCEL_FAILED</td><td>文件上传，取消上传任务失败 </td></tr>
    <tr><td class="paramname">STATE_MQTT_UPLOAD_FAILED</td><td>文件上传失败 </td></tr>
    <tr><td class="paramname">STATE_MQTT_UPLOAD_FAILED_TIMEOUT</td><td>文件上传超时失败 </td></tr>
    <tr><td class="paramname">STATE_MQTT_UPLOAD_FAILED_WHOLE_CHECK</td><td>文件完整性校验失败 </td></tr>
    <tr><td class="paramname">STATE_MQTT_UPLOAD_FINISHED</td><td>已经完成文件上传的任务，完成文件上传后会销毁对应的upload task释放内存资源 </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="aiot__mqtt__upload__api_8c_a069d1bea8cb21e17f2a7de5715b93cf5_cgraph.png" border="0" usemap="#aiot__mqtt__upload__api_8c_a069d1bea8cb21e17f2a7de5715b93cf5_cgraph" alt=""/></div>
<map name="aiot__mqtt__upload__api_8c_a069d1bea8cb21e17f2a7de5715b93cf5_cgraph" id="aiot__mqtt__upload__api_8c_a069d1bea8cb21e17f2a7de5715b93cf5_cgraph">
<area shape="rect" id="node2" href="aiot__mqtt__upload__api_8c.html#af6b2e296e4bfa208b80f0600f0e2e09a" title="_mqtt_upload_resend_pub" alt="" coords="232,177,407,204"/>
<area shape="rect" id="node23" href="aiot__mqtt__upload__api_8c.html#a8da850b3a69b983b313e6563c51f09e0" title="_mqtt_upload_up_task_free" alt="" coords="228,232,411,259"/>
<area shape="rect" id="node3" href="aiot__mqtt__upload__api_8c.html#aa6060172655fa6b62a6823bc7ddc69c2" title="_mqtt_upload_send_block_file" alt="" coords="459,119,656,145"/>
<area shape="rect" id="node22" href="aiot__mqtt__upload__api_8c.html#acc4b50df5099bf2359b6aadc76346fb9" title="_mqtt_upload_send_request\l_cancel" alt="" coords="465,170,650,211"/>
<area shape="rect" id="node4" href="aiot__mqtt__upload__api_8c.html#aca9d23f551b6f3b535901a7d8dd862d3" title="_mqtt_upload_get_payload" alt="" coords="706,169,883,196"/>
<area shape="rect" id="node5" href="aiot__mqtt__upload__api_8c.html#a09701778eeac4c298763385740e674be" title="_mqtt_upload_get_topic" alt="" coords="715,119,875,145"/>
<area shape="rect" id="node8" href="aiot__mqtt__upload__api_8c.html#a4a83a990f226923af271d5b031b82a11" title="_mqtt_upload_data_encode\l_package" alt="" coords="704,31,885,73"/>
<area shape="rect" id="node10" href="aiot__mqtt__api_8c.html#a207164cfd12422eb36a48624a1c31db8" title="发送一条PUBLISH报文到MQTT服务器, QoS为0, 用于发布指定的消息 " alt="" coords="743,220,847,247"/>
<area shape="rect" id="node6" href="aiot__mqtt__api_8c.html#a3aefc6194663f3db0d614840ffaffb9a" title="core_mqtt_get_product_key" alt="" coords="937,79,1119,105"/>
<area shape="rect" id="node7" href="aiot__mqtt__api_8c.html#af71393abdcc0bfbc5a0ecafb75a7b4c4" title="core_mqtt_get_device_name" alt="" coords="933,129,1123,156"/>
<area shape="rect" id="node9" href="aiot__mqtt__upload__api_8c.html#a04e5cf4d4d3f512c8a27e9aa13923b07" title="crc_ibm" alt="" coords="994,28,1062,55"/>
<area shape="rect" id="node11" href="aiot__mqtt__api_8c.html#aa2537b0027caddef380ce7b937af59f7" title="_core_mqtt_pub_params\l_check" alt="" coords="945,231,1111,273"/>
<area shape="rect" id="node12" href="aiot__mqtt__api_8c.html#a7f699157e4a591241ad1a894918ee01a" title="_core_mqtt_pub_prepare" alt="" coords="945,297,1111,324"/>
<area shape="rect" id="node13" href="aiot__mqtt__api_8c.html#afdecdf08db75dc62d6cc9dd4a22ff1d6" title="_core_mqtt_pub" alt="" coords="971,180,1085,207"/>
<area shape="rect" id="node14" href="aiot__mqtt__api_8c.html#a5b01b201adad995c05fec1f82a356975" title="_core_mqtt_exec_inc" alt="" coords="1176,5,1323,32"/>
<area shape="rect" id="node15" href="aiot__mqtt__api_8c.html#afb769532cc8c423e79d5f8843ea6fab0" title="_core_mqtt_exec_dec" alt="" coords="1174,56,1325,83"/>
<area shape="rect" id="node16" href="aiot__mqtt__api_8c.html#a65111a875792262ea2566bbbab350e61" title="_core_mqtt_remain_len\l_encode" alt="" coords="1171,107,1328,149"/>
<area shape="rect" id="node17" href="aiot__mqtt__api_8c.html#ab57f5851072d495daaa6c945000d192f" title="_core_mqtt_set_utf8\l_encoded_str" alt="" coords="1179,173,1320,214"/>
<area shape="rect" id="node18" href="aiot__mqtt__api_8c.html#a541cad09a05feb91ff78eb23da4ef364" title="_core_mqtt_packet_id" alt="" coords="1174,239,1325,265"/>
<area shape="rect" id="node19" href="aiot__mqtt__api_8c.html#ac8fbdef0975e187b70f30d5b2f887a46" title="_core_mqtt_publist\l_insert" alt="" coords="1183,290,1315,331"/>
<area shape="rect" id="node20" href="aiot__mqtt__api_8c.html#a589202977e7a0f8a467d51c021813ba5" title="_core_mqtt_write" alt="" coords="1188,356,1311,383"/>
<area shape="rect" id="node21" href="aiot__mqtt__api_8c.html#af4f048a7481d88c228bdcb55aa33c7a2" title="_core_mqtt_sysdep_return" alt="" coords="1376,356,1552,383"/>
<area shape="rect" id="node24" href="aiot__mqtt__upload__api_8c.html#a50aec7c9facd1f399a80131fdedc8846" title="_mqtt_upload_desc_free" alt="" coords="475,236,639,263"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">变量说明</h2>
<a class="anchor" id="a739ff0485b6527a1cbfa07e8ab813cce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__upload__sub__topic__map__t.html">_upload_sub_topic_map_t</a> g_upload_sub_topic_map[MQTT_UPLOAD_DEFAULT_SUBTOPIC_NUM]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>初始值:</b><div class="fragment"><div class="line">=  {</div><div class="line">    {</div><div class="line">        MQTT_UPLOAD_UPLOAD_INIT_REPLY,</div><div class="line">        <a class="code" href="aiot__mqtt__upload__api_8c.html#a8e1481ab9a5989c1c76d78c5a1989c90">_mqtt_upload_receive_init_response_handler</a></div><div class="line">    },</div><div class="line">    {</div><div class="line">        MQTT_UPLOAD_UPLOAD_FILE_REPLY,</div><div class="line">        <a class="code" href="aiot__mqtt__upload__api_8c.html#a6e51dfa892a686261d011fe2c334640e">_mqtt_upload_receive_upload_response_handler</a></div><div class="line">    },</div><div class="line">    {</div><div class="line">        MQTT_UPLOAD_UPLOAD_CANCEL_REPLY,</div><div class="line">        <a class="code" href="aiot__mqtt__upload__api_8c.html#a1cf1e0e10f19317977552bf40f4bd738">_mqtt_upload_receive_cancel_response_handler</a></div><div class="line">    }</div><div class="line">}</div><div class="ttc" id="aiot__mqtt__upload__api_8c_html_a1cf1e0e10f19317977552bf40f4bd738"><div class="ttname"><a href="aiot__mqtt__upload__api_8c.html#a1cf1e0e10f19317977552bf40f4bd738">_mqtt_upload_receive_cancel_response_handler</a></div><div class="ttdeci">static void _mqtt_upload_receive_cancel_response_handler(void *handle, const aiot_mqtt_recv_t *const packet, void *userdata)</div><div class="ttdef"><b>Definition:</b> aiot_mqtt_upload_api.c:922</div></div>
<div class="ttc" id="aiot__mqtt__upload__api_8c_html_a8e1481ab9a5989c1c76d78c5a1989c90"><div class="ttname"><a href="aiot__mqtt__upload__api_8c.html#a8e1481ab9a5989c1c76d78c5a1989c90">_mqtt_upload_receive_init_response_handler</a></div><div class="ttdeci">static void _mqtt_upload_receive_init_response_handler(void *handle, const aiot_mqtt_recv_t *const packet, void *userdata)</div><div class="ttdef"><b>Definition:</b> aiot_mqtt_upload_api.c:658</div></div>
<div class="ttc" id="aiot__mqtt__upload__api_8c_html_a6e51dfa892a686261d011fe2c334640e"><div class="ttname"><a href="aiot__mqtt__upload__api_8c.html#a6e51dfa892a686261d011fe2c334640e">_mqtt_upload_receive_upload_response_handler</a></div><div class="ttdeci">static void _mqtt_upload_receive_upload_response_handler(void *handle, const aiot_mqtt_recv_t *const packet, void *userdata)</div><div class="ttdef"><b>Definition:</b> aiot_mqtt_upload_api.c:791</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9c745d2719fac81649daa0df2ac46aa0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint16_t crc_ibm_table[256]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
制作者 &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
